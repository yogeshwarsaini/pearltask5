{"version":3,"file":"responses.js","sources":["../../src/middlewares/responses.ts"],"sourcesContent":["import { isFunction } from 'lodash/fp';\nimport type { Core } from '@strapi/types';\n\nexport interface Config {\n  handlers?: Record<number, Core.MiddlewareHandler>;\n}\n\nexport const responses: Core.MiddlewareFactory<Config> = (config = {}) => {\n  return async (ctx, next) => {\n    await next();\n\n    const { status } = ctx;\n    const handler = config?.handlers?.[status];\n\n    if (isFunction(handler)) {\n      await handler(ctx, next);\n    }\n  };\n};\n"],"names":["responses","config","ctx","next","status","handler","handlers","isFunction"],"mappings":";;;;AAOaA,MAAAA,SAAAA,GAA4C,CAACC,MAAAA,GAAS,EAAE,GAAA;AACnE,IAAA,OAAO,OAAOC,GAAKC,EAAAA,IAAAA,GAAAA;QACjB,MAAMA,IAAAA,EAAAA;QAEN,MAAM,EAAEC,MAAM,EAAE,GAAGF,GAAAA;AACnB,QAAA,MAAMG,OAAUJ,GAAAA,MAAAA,EAAQK,QAAU,GAACF,MAAO,CAAA;AAE1C,QAAA,IAAIG,cAAWF,OAAU,CAAA,EAAA;AACvB,YAAA,MAAMA,QAAQH,GAAKC,EAAAA,IAAAA,CAAAA;AACrB;AACF,KAAA;AACF;;;;"}