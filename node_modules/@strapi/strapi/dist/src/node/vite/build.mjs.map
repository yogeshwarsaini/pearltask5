{"version":3,"file":"build.mjs","sources":["../../../../src/node/vite/build.ts"],"sourcesContent":["import { mergeConfigWithUserConfig, resolveProductionConfig } from './config';\n\nimport type { BuildContext } from '../create-build-context';\n\nconst build = async (ctx: BuildContext) => {\n  const config = await resolveProductionConfig(ctx);\n  const finalConfig = await mergeConfigWithUserConfig(config, ctx);\n\n  const { build: viteBuild } = await import('vite');\n\n  ctx.logger.debug('Vite config', finalConfig);\n\n  await viteBuild(finalConfig);\n};\n\nexport { build };\n"],"names":["build","ctx","config","resolveProductionConfig","finalConfig","mergeConfigWithUserConfig","viteBuild","logger","debug"],"mappings":";;AAIA,MAAMA,QAAQ,OAAOC,GAAAA,GAAAA;IACnB,MAAMC,MAAAA,GAAS,MAAMC,uBAAwBF,CAAAA,GAAAA,CAAAA;IAC7C,MAAMG,WAAAA,GAAc,MAAMC,yBAAAA,CAA0BH,MAAQD,EAAAA,GAAAA,CAAAA;AAE5D,IAAA,MAAM,EAAED,KAAOM,EAAAA,SAAS,EAAE,GAAG,MAAM,OAAO,MAAA,CAAA;AAE1CL,IAAAA,GAAAA,CAAIM,MAAM,CAACC,KAAK,CAAC,aAAeJ,EAAAA,WAAAA,CAAAA;AAEhC,IAAA,MAAME,SAAUF,CAAAA,WAAAA,CAAAA;AAClB;;;;"}