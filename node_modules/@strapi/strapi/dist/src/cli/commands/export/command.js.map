{"version":3,"file":"command.js","sources":["../../../../../src/cli/commands/export/command.ts"],"sourcesContent":["import { createCommand, Option } from 'commander';\n\nimport {\n  excludeOption,\n  onlyOption,\n  throttleOption,\n  validateExcludeOnly,\n} from '../../utils/data-transfer';\nimport { promptEncryptionKey } from '../../utils/commander';\nimport action from './action';\n\n/**\n * `$ strapi export`\n */\nconst command = () => {\n  return createCommand('export')\n    .description('Export data from Strapi to file')\n    .allowExcessArguments(false)\n    .addOption(\n      new Option('--no-encrypt', `Disables 'aes-128-ecb' encryption of the output file`).default(\n        true\n      )\n    )\n    .addOption(\n      new Option('--no-compress', 'Disables gzip compression of output file').default(true)\n    )\n    .addOption(new Option('--verbose', 'Enable verbose logs'))\n    .addOption(\n      new Option(\n        '-k, --key <string>',\n        'Provide encryption key in command instead of using the prompt'\n      )\n    )\n    .addOption(\n      new Option('-f, --file <file>', 'name to use for exported file (without extensions)')\n    )\n    .addOption(excludeOption)\n    .addOption(onlyOption)\n    .addOption(throttleOption)\n    .hook('preAction', validateExcludeOnly)\n    .hook('preAction', promptEncryptionKey)\n    .action(action);\n};\n\nexport default command;\n"],"names":["command","createCommand","description","allowExcessArguments","addOption","Option","default","excludeOption","onlyOption","throttleOption","hook","validateExcludeOnly","promptEncryptionKey","action"],"mappings":";;;;;;;AAWA;;AAEC,UACKA,OAAU,GAAA,IAAA;AACd,IAAA,OAAOC,uBAAc,CAAA,QAAA,CAAA,CAClBC,WAAW,CAAC,iCACZC,CAAAA,CAAAA,oBAAoB,CAAC,KAAA,CAAA,CACrBC,SAAS,CACR,IAAIC,gBAAAA,CAAO,gBAAgB,CAAC,oDAAoD,CAAC,CAAA,CAAEC,OAAO,CACxF,IAGHF,CAAAA,CAAAA,CAAAA,SAAS,CACR,IAAIC,gBAAO,CAAA,eAAA,EAAiB,0CAA4CC,CAAAA,CAAAA,OAAO,CAAC,IAAA,CAAA,CAAA,CAEjFF,SAAS,CAAC,IAAIC,gBAAO,CAAA,WAAA,EAAa,qBAClCD,CAAAA,CAAAA,CAAAA,SAAS,CACR,IAAIC,gBACF,CAAA,oBAAA,EACA,+DAGHD,CAAAA,CAAAA,CAAAA,SAAS,CACR,IAAIC,gBAAO,CAAA,mBAAA,EAAqB,uDAEjCD,SAAS,CAACG,0BACVH,CAAAA,CAAAA,SAAS,CAACI,uBAAAA,CAAAA,CACVJ,SAAS,CAACK,6BACVC,IAAI,CAAC,WAAaC,EAAAA,gCAAAA,CAAAA,CAClBD,IAAI,CAAC,WAAaE,EAAAA,+BAAAA,CAAAA,CAClBC,MAAM,CAACA,MAAAA,CAAAA;AACZ;;;;"}