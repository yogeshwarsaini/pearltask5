{"version":3,"file":"index.mjs","sources":["../../../../admin/src/pages/App/index.tsx"],"sourcesContent":["/* eslint-disable import/no-default-export */\n/* eslint-disable check-file/filename-naming-convention  */\n/* eslint-disable check-file/no-index */\nimport { lazy, Suspense, useEffect, useRef } from 'react';\n\nimport { Page, useGuidedTour, Layouts, useAppInfo } from '@strapi/admin/strapi-admin';\nimport { useIntl } from 'react-intl';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { AutoReloadOverlayBlockerProvider } from '../../components/AutoReloadOverlayBlocker';\nimport { ContentTypeBuilderNav } from '../../components/ContentTypeBuilderNav/ContentTypeBuilderNav';\nimport DataManagerProvider from '../../components/DataManager/DataManagerProvider';\nimport { ExitPrompt } from '../../components/ExitPrompt';\nimport { FormModal } from '../../components/FormModal/FormModal';\nimport { FormModalNavigationProvider } from '../../components/FormModalNavigation/FormModalNavigationProvider';\nimport { PERMISSIONS } from '../../constants';\nimport { pluginId } from '../../pluginId';\nimport { EmptyState } from '../ListView/EmptyState';\n\nconst ListView = lazy(() => import('../ListView/ListView'));\n\nconst App = () => {\n  const { formatMessage } = useIntl();\n  const title = formatMessage({\n    id: `${pluginId}.plugin.name`,\n    defaultMessage: 'Content Types Builder',\n  });\n  const startSection = useGuidedTour('App', (state) => state.startSection);\n  const autoReload = useAppInfo('DataManagerProvider', (state) => state.autoReload);\n  const startSectionRef = useRef(startSection);\n\n  useEffect(() => {\n    if (startSectionRef.current) {\n      startSectionRef.current('contentTypeBuilder');\n    }\n  }, []);\n\n  return (\n    <Page.Protect permissions={PERMISSIONS.main}>\n      <Page.Title>{title}</Page.Title>\n      <AutoReloadOverlayBlockerProvider>\n        <FormModalNavigationProvider>\n          <DataManagerProvider>\n            <ExitPrompt />\n            <>\n              {autoReload && <FormModal />}\n              <Layouts.Root sideNav={<ContentTypeBuilderNav />}>\n                <Suspense fallback={<Page.Loading />}>\n                  <Routes>\n                    <Route path=\"content-types/create-content-type\" element={<EmptyState />} />\n                    <Route path=\"content-types/:contentTypeUid\" element={<ListView />} />\n                    <Route\n                      path={`component-categories/:categoryUid/:componentUid`}\n                      element={<ListView />}\n                    />\n                    <Route path=\"*\" element={<ListView />} />\n                  </Routes>\n                </Suspense>\n              </Layouts.Root>\n            </>\n          </DataManagerProvider>\n        </FormModalNavigationProvider>\n      </AutoReloadOverlayBlockerProvider>\n    </Page.Protect>\n  );\n};\n\nexport default App;\n"],"names":["ListView","lazy","App","formatMessage","useIntl","title","id","pluginId","defaultMessage","startSection","useGuidedTour","state","autoReload","useAppInfo","startSectionRef","useRef","useEffect","current","_jsxs","Page","Protect","permissions","PERMISSIONS","main","_jsx","Title","AutoReloadOverlayBlockerProvider","FormModalNavigationProvider","DataManagerProvider","ExitPrompt","_Fragment","FormModal","Layouts","Root","sideNav","ContentTypeBuilderNav","Suspense","fallback","Loading","Routes","Route","path","element","EmptyState"],"mappings":";;;;;;;;;;;;;;;AAmBA,MAAMA,QAAWC,iBAAAA,IAAAA,CAAK,IAAM,OAAO,0BAAA,CAAA,CAAA;AAEnC,MAAMC,GAAM,GAAA,IAAA;IACV,MAAM,EAAEC,aAAa,EAAE,GAAGC,OAAAA,EAAAA;AAC1B,IAAA,MAAMC,QAAQF,aAAc,CAAA;AAC1BG,QAAAA,EAAAA,EAAI,CAAC,EAAEC,QAAS,CAAA,YAAY,CAAC;QAC7BC,cAAgB,EAAA;AAClB,KAAA,CAAA;AACA,IAAA,MAAMC,eAAeC,aAAc,CAAA,KAAA,EAAO,CAACC,KAAAA,GAAUA,MAAMF,YAAY,CAAA;AACvE,IAAA,MAAMG,aAAaC,UAAW,CAAA,qBAAA,EAAuB,CAACF,KAAAA,GAAUA,MAAMC,UAAU,CAAA;AAChF,IAAA,MAAME,kBAAkBC,MAAON,CAAAA,YAAAA,CAAAA;IAE/BO,SAAU,CAAA,IAAA;QACR,IAAIF,eAAAA,CAAgBG,OAAO,EAAE;AAC3BH,YAAAA,eAAAA,CAAgBG,OAAO,CAAC,oBAAA,CAAA;AAC1B;AACF,KAAA,EAAG,EAAE,CAAA;IAEL,qBACEC,IAAA,CAACC,KAAKC,OAAO,EAAA;AAACC,QAAAA,WAAAA,EAAaC,YAAYC,IAAI;;AACzC,0BAAAC,GAAA,CAACL,KAAKM,KAAK,EAAA;AAAEpB,gBAAAA,QAAAA,EAAAA;;0BACbmB,GAACE,CAAAA,gCAAAA,EAAAA;AACC,gBAAA,QAAA,gBAAAF,GAACG,CAAAA,2BAAAA,EAAAA;AACC,oBAAA,QAAA,gBAAAT,IAACU,CAAAA,mBAAAA,EAAAA;;0CACCJ,GAACK,CAAAA,UAAAA,EAAAA,EAAAA,CAAAA;AACD,0CAAAX,IAAA,CAAAY,QAAA,EAAA;;AACGlB,oCAAAA,UAAAA,kBAAcY,GAACO,CAAAA,SAAAA,EAAAA,EAAAA,CAAAA;AAChB,kDAAAP,GAAA,CAACQ,QAAQC,IAAI,EAAA;AAACC,wCAAAA,OAAAA,gBAASV,GAACW,CAAAA,qBAAAA,EAAAA,EAAAA,CAAAA;AACtB,wCAAA,QAAA,gBAAAX,GAACY,CAAAA,QAAAA,EAAAA;4CAASC,QAAU,gBAAAb,GAAA,CAACL,KAAKmB,OAAO,EAAA,EAAA,CAAA;AAC/B,4CAAA,QAAA,gBAAApB,IAACqB,CAAAA,MAAAA,EAAAA;;kEACCf,GAACgB,CAAAA,KAAAA,EAAAA;wDAAMC,IAAK,EAAA,mCAAA;AAAoCC,wDAAAA,OAAAA,gBAASlB,GAACmB,CAAAA,UAAAA,EAAAA,EAAAA;;kEAC1DnB,GAACgB,CAAAA,KAAAA,EAAAA;wDAAMC,IAAK,EAAA,+BAAA;AAAgCC,wDAAAA,OAAAA,gBAASlB,GAACxB,CAAAA,QAAAA,EAAAA,EAAAA;;kEACtDwB,GAACgB,CAAAA,KAAAA,EAAAA;wDACCC,IAAM,EAAA,CAAC,+CAA+C,CAAC;AACvDC,wDAAAA,OAAAA,gBAASlB,GAACxB,CAAAA,QAAAA,EAAAA,EAAAA;;kEAEZwB,GAACgB,CAAAA,KAAAA,EAAAA;wDAAMC,IAAK,EAAA,GAAA;AAAIC,wDAAAA,OAAAA,gBAASlB,GAACxB,CAAAA,QAAAA,EAAAA,EAAAA;;;;;;;;;;;;;;AAU9C;;;;"}