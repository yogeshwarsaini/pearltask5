{"version":3,"file":"ContentTypeBuilderNav.js","sources":["../../../../admin/src/components/ContentTypeBuilderNav/ContentTypeBuilderNav.tsx"],"sourcesContent":["import { Fragment, useState, useEffect } from 'react';\n\nimport { ConfirmDialog, SubNav } from '@strapi/admin/strapi-admin';\nimport {\n  Box,\n  TextInput,\n  Button,\n  Flex,\n  Typography,\n  Divider,\n  Menu,\n  VisuallyHidden,\n  Dialog,\n  IconButton,\n} from '@strapi/design-system';\nimport { ArrowClockwise, Cross, More, Search } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { getTrad } from '../../utils/getTrad';\nimport { useDataManager } from '../DataManager/useDataManager';\nimport { Status } from '../Status';\n\nimport { useContentTypeBuilderMenu } from './useContentTypeBuilderMenu';\n\nconst ArrowCounterClockwise = styled(ArrowClockwise)`\n  transform: scaleX(-1);\n`;\n\nconst DiscardAllMenuItem = styled(Menu.Item)`\n  color: ${({ theme }) => theme.colors.danger600};\n\n  &:hover {\n    background: ${({ theme, disabled }) => !disabled && theme.colors.danger100};\n  }\n`;\n\nexport const ContentTypeBuilderNav = () => {\n  const { menu, search } = useContentTypeBuilderMenu();\n  const { saveSchema, isModified, history, isInDevelopmentMode } = useDataManager();\n\n  const { formatMessage } = useIntl();\n\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n  const [discardConfirmationModalIsOpen, setDiscardConfirmationModalIsOpen] = useState(false);\n\n  useEffect(() => {\n    if (!isInDevelopmentMode) {\n      return;\n    }\n\n    const onKeyDown = (e: KeyboardEvent) => {\n      if (e.ctrlKey || e.metaKey) {\n        if (e.key === 'Enter') {\n          if (isModified) {\n            e.preventDefault();\n            saveSchema();\n          }\n        } else if (e.key === 'z' && !e.shiftKey) {\n          e.preventDefault(); // Prevent browser default undo (e.g., in input fields)\n          history.undo();\n        } else if (e.key === 'y' || (e.shiftKey && e.key === 'z') || e.key === 'Z') {\n          e.preventDefault(); // Prevent browser default redo (e.g., in input fields)\n          history.redo();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  });\n\n  const discardHandler = () => {\n    setDiscardConfirmationModalIsOpen(true);\n  };\n\n  const discardChanges = () => {\n    setMenuIsOpen(false);\n    setDiscardConfirmationModalIsOpen(false);\n    history.discardAllChanges();\n  };\n\n  const undoHandler = () => {\n    history.undo();\n  };\n\n  const redoHandler = () => {\n    history.redo();\n  };\n\n  const pluginName = formatMessage({\n    id: getTrad('plugin.name'),\n    defaultMessage: 'Content-Type Builder',\n  });\n\n  return (\n    <SubNav.Main aria-label={pluginName}>\n      <SubNav.Header label={pluginName} />\n      <Divider background=\"neutral150\" />\n      <Flex padding={5} gap={3} direction={'column'} alignItems={'stretch'}>\n        <Flex gap={2}>\n          <Button\n            flex={1}\n            onClick={(e) => {\n              e.preventDefault();\n              saveSchema();\n            }}\n            type=\"submit\"\n            disabled={!isModified || !isInDevelopmentMode}\n            fullWidth\n            size=\"S\"\n          >\n            {formatMessage({\n              id: 'global.save',\n              defaultMessage: 'Save',\n            })}\n          </Button>\n          <Menu.Root open={menuIsOpen} onOpenChange={setMenuIsOpen}>\n            <Menu.Trigger\n              size=\"S\"\n              endIcon={null}\n              paddingTop=\"4px\"\n              paddingLeft=\"7px\"\n              paddingRight=\"7px\"\n              variant=\"tertiary\"\n            >\n              <More fill=\"neutral500\" aria-hidden focusable={false} />\n              <VisuallyHidden tag=\"span\">\n                {formatMessage({\n                  id: 'global.more.actions',\n                  defaultMessage: 'More actions',\n                })}\n              </VisuallyHidden>\n            </Menu.Trigger>\n            <Menu.Content zIndex={1}>\n              <Menu.Item\n                disabled={!history.canUndo || !isInDevelopmentMode}\n                onSelect={undoHandler}\n                startIcon={<ArrowCounterClockwise />}\n              >\n                {formatMessage({\n                  id: 'global.last-change.undo',\n                  defaultMessage: 'Undo last change',\n                })}\n              </Menu.Item>\n              <Menu.Item\n                disabled={!history.canRedo || !isInDevelopmentMode}\n                onSelect={redoHandler}\n                startIcon={<ArrowClockwise />}\n              >\n                {formatMessage({\n                  id: 'global.last-change.redo',\n                  defaultMessage: 'Redo last change',\n                })}\n              </Menu.Item>\n              <Menu.Separator />\n              <DiscardAllMenuItem\n                disabled={!history.canDiscardAll || !isInDevelopmentMode}\n                onSelect={discardHandler}\n              >\n                <Flex gap={2}>\n                  <Cross />\n                  <Typography>\n                    {formatMessage({\n                      id: 'global.last-changes.discard',\n                      defaultMessage: 'Discard last changes',\n                    })}\n                  </Typography>\n                </Flex>\n              </DiscardAllMenuItem>\n            </Menu.Content>\n          </Menu.Root>\n        </Flex>\n\n        <TextInput\n          startAction={<Search fill=\"neutral500\" />}\n          value={search.value}\n          onChange={(e) => search.onChange(e.target.value)}\n          aria-label=\"Search\"\n          placeholder={formatMessage({\n            id: getTrad('search.placeholder'),\n            defaultMessage: 'Search',\n          })}\n          endAction={\n            <IconButton\n              onClick={(e) => {\n                e.stopPropagation();\n                e.preventDefault();\n                search.onChange('');\n              }}\n              label=\"clear\"\n              variant=\"ghost\"\n              type=\"button\"\n              style={{ padding: 0 }}\n            >\n              <Cross />\n            </IconButton>\n          }\n          size=\"S\"\n        />\n      </Flex>\n      <SubNav.Sections>\n        {menu.map((section) => (\n          <Fragment key={section.name}>\n            <SubNav.Section\n              label={formatMessage({\n                id: section.title.id,\n                defaultMessage: section.title.defaultMessage,\n              })}\n              link={\n                section.customLink && {\n                  label: formatMessage({\n                    id: section.customLink?.id,\n                    defaultMessage: section.customLink?.defaultMessage,\n                  }),\n                  onClik: section.customLink?.onClick,\n                }\n              }\n            >\n              {section.links.map((link) => {\n                const linkLabel = formatMessage({ id: link.name, defaultMessage: link.title });\n\n                if ('links' in link) {\n                  return (\n                    <SubNav.SubSection key={link.name} label={link.title}>\n                      {link.links.map((subLink) => {\n                        const label = formatMessage({\n                          id: subLink.name,\n                          defaultMessage: subLink.title,\n                        });\n\n                        return (\n                          <SubNav.Link\n                            to={subLink.to}\n                            key={subLink.name}\n                            label={label}\n                            endAction={\n                              <Box tag=\"span\" textAlign=\"center\" width={'24px'}>\n                                <Status status={subLink.status} />\n                              </Box>\n                            }\n                          />\n                        );\n                      })}\n                    </SubNav.SubSection>\n                  );\n                }\n\n                return (\n                  <SubNav.Link\n                    to={link.to}\n                    key={link.name}\n                    label={linkLabel}\n                    endAction={\n                      <Box tag=\"span\" textAlign=\"center\" width={'24px'}>\n                        <Status status={link.status} />\n                      </Box>\n                    }\n                  />\n                );\n              })}\n            </SubNav.Section>\n          </Fragment>\n        ))}\n      </SubNav.Sections>\n      <Dialog.Root\n        open={discardConfirmationModalIsOpen}\n        onOpenChange={setDiscardConfirmationModalIsOpen}\n      >\n        <ConfirmDialog onConfirm={discardChanges}>\n          {formatMessage({\n            id: getTrad('popUpWarning.discardAll.message'),\n            defaultMessage: 'Are you sure you want to discard all changes?',\n          })}\n        </ConfirmDialog>\n      </Dialog.Root>\n    </SubNav.Main>\n  );\n};\n"],"names":["ArrowCounterClockwise","styled","ArrowClockwise","DiscardAllMenuItem","Menu","Item","theme","colors","danger600","disabled","danger100","ContentTypeBuilderNav","menu","search","useContentTypeBuilderMenu","saveSchema","isModified","history","isInDevelopmentMode","useDataManager","formatMessage","useIntl","menuIsOpen","setMenuIsOpen","useState","discardConfirmationModalIsOpen","setDiscardConfirmationModalIsOpen","useEffect","onKeyDown","e","ctrlKey","metaKey","key","preventDefault","shiftKey","undo","redo","document","addEventListener","removeEventListener","discardHandler","discardChanges","discardAllChanges","undoHandler","redoHandler","pluginName","id","getTrad","defaultMessage","_jsxs","SubNav","Main","aria-label","_jsx","Header","label","Divider","background","Flex","padding","gap","direction","alignItems","Button","flex","onClick","type","fullWidth","size","Root","open","onOpenChange","Trigger","endIcon","paddingTop","paddingLeft","paddingRight","variant","More","fill","aria-hidden","focusable","VisuallyHidden","tag","Content","zIndex","canUndo","onSelect","startIcon","canRedo","Separator","canDiscardAll","Cross","Typography","TextInput","startAction","Search","value","onChange","target","placeholder","endAction","IconButton","stopPropagation","style","Sections","map","section","Fragment","Section","title","link","customLink","onClik","links","linkLabel","name","SubSection","subLink","Link","to","Box","textAlign","width","Status","status","Dialog","ConfirmDialog","onConfirm"],"mappings":"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"}