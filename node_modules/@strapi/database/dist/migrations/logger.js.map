{"version":3,"file":"logger.js","sources":["../../src/migrations/logger.ts"],"sourcesContent":["export const transformLogMessage = (level: string, message: unknown) => {\n  if (typeof message === 'string') {\n    return { level, message };\n  }\n\n  if (typeof message === 'object' && message !== null) {\n    if ('event' in message && 'name' in message) {\n      return {\n        level,\n        message: `[internal migration]: ${message.event} ${message?.name}`,\n        timestamp: Date.now(),\n      };\n    }\n  }\n\n  // NOTE: the message typing are too loose so in practice we should never arrive here.\n  return '';\n};\n"],"names":["transformLogMessage","level","message","event","name","timestamp","Date","now"],"mappings":";;AAAO,MAAMA,mBAAsB,GAAA,CAACC,KAAeC,EAAAA,OAAAA,GAAAA;IACjD,IAAI,OAAOA,YAAY,QAAU,EAAA;QAC/B,OAAO;AAAED,YAAAA,KAAAA;AAAOC,YAAAA;AAAQ,SAAA;AAC1B;AAEA,IAAA,IAAI,OAAOA,OAAAA,KAAY,QAAYA,IAAAA,OAAAA,KAAY,IAAM,EAAA;QACnD,IAAI,OAAA,IAAWA,OAAW,IAAA,MAAA,IAAUA,OAAS,EAAA;YAC3C,OAAO;AACLD,gBAAAA,KAAAA;gBACAC,OAAS,EAAA,CAAC,sBAAsB,EAAEA,OAAQC,CAAAA,KAAK,CAAC,CAAC,EAAED,OAASE,EAAAA,IAAAA,CAAK,CAAC;AAClEC,gBAAAA,SAAAA,EAAWC,KAAKC,GAAG;AACrB,aAAA;AACF;AACF;;IAGA,OAAO,EAAA;AACT;;;;"}