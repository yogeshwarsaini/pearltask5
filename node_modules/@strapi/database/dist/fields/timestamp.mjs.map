{"version":3,"file":"timestamp.mjs","sources":["../../src/fields/timestamp.ts"],"sourcesContent":["import * as dateFns from 'date-fns';\n\nimport { parseDateTimeOrTimestamp } from './shared/parsers';\nimport Field from './field';\n\nexport default class TimestampField extends Field {\n  toDB(value: unknown) {\n    return parseDateTimeOrTimestamp(value);\n  }\n\n  fromDB(value: unknown) {\n    const cast = new Date(value as any);\n    return dateFns.isValid(cast) ? dateFns.format(cast, 'T') : null;\n  }\n}\n"],"names":["TimestampField","Field","toDB","value","parseDateTimeOrTimestamp","fromDB","cast","Date","dateFns","isValid","format"],"mappings":";;;;AAKe,MAAMA,cAAuBC,SAAAA,KAAAA,CAAAA;AAC1CC,IAAAA,IAAAA,CAAKC,KAAc,EAAE;AACnB,QAAA,OAAOC,wBAAyBD,CAAAA,KAAAA,CAAAA;AAClC;AAEAE,IAAAA,MAAAA,CAAOF,KAAc,EAAE;QACrB,MAAMG,IAAAA,GAAO,IAAIC,IAAKJ,CAAAA,KAAAA,CAAAA;QACtB,OAAOK,OAAAA,CAAQC,OAAO,CAACH,IAAAA,CAAAA,GAAQE,QAAQE,MAAM,CAACJ,MAAM,GAAO,CAAA,GAAA,IAAA;AAC7D;AACF;;;;"}