{"version":3,"file":"release.js","sources":["../../../../server/src/controllers/validation/release.ts"],"sourcesContent":["import { yup, validateYupSchema } from '@strapi/utils';\n\nexport const RELEASE_SCHEMA = yup\n  .object()\n  .shape({\n    name: yup.string().trim().required(),\n    scheduledAt: yup.string().nullable(),\n    timezone: yup.string().when('scheduledAt', {\n      is: (value: any) => value !== null && value !== undefined,\n      then: yup.string().required(),\n      otherwise: yup.string().nullable(),\n    }),\n  })\n  .required()\n  .noUnknown();\n\nconst FIND_BY_DOCUMENT_ATTACHED_PARAMS_SCHEMA = yup\n  .object()\n  .shape({\n    contentType: yup.string().required(),\n    entryDocumentId: yup.string().nullable(),\n    hasEntryAttached: yup.string().nullable(),\n    locale: yup.string().nullable(),\n  })\n  .required()\n  .noUnknown();\n\nexport const validateRelease = validateYupSchema(RELEASE_SCHEMA);\n\nexport const validatefindByDocumentAttachedParams = validateYupSchema(\n  FIND_BY_DOCUMENT_ATTACHED_PARAMS_SCHEMA\n);\n"],"names":["RELEASE_SCHEMA","yup","object","shape","name","string","trim","required","scheduledAt","nullable","timezone","when","is","value","undefined","then","otherwise","noUnknown","FIND_BY_DOCUMENT_ATTACHED_PARAMS_SCHEMA","contentType","entryDocumentId","hasEntryAttached","locale","validateRelease","validateYupSchema","validatefindByDocumentAttachedParams"],"mappings":";;;;MAEaA,cAAiBC,GAAAA,SAAAA,CAC3BC,MAAM,EAAA,CACNC,KAAK,CAAC;AACLC,IAAAA,IAAAA,EAAMH,SAAII,CAAAA,MAAM,EAAGC,CAAAA,IAAI,GAAGC,QAAQ,EAAA;IAClCC,WAAaP,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ,EAAA;AAClCC,IAAAA,QAAAA,EAAUT,SAAII,CAAAA,MAAM,EAAGM,CAAAA,IAAI,CAAC,aAAe,EAAA;AACzCC,QAAAA,EAAAA,EAAI,CAACC,KAAAA,GAAeA,KAAU,KAAA,IAAA,IAAQA,KAAUC,KAAAA,SAAAA;QAChDC,IAAMd,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGE,QAAQ,EAAA;QAC3BS,SAAWf,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ;AAClC,KAAA;AACF,CACCF,CAAAA,CAAAA,QAAQ,EACRU,CAAAA,SAAS;AAEZ,MAAMC,uCAA0CjB,GAAAA,SAAAA,CAC7CC,MAAM,EAAA,CACNC,KAAK,CAAC;IACLgB,WAAalB,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGE,QAAQ,EAAA;IAClCa,eAAiBnB,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ,EAAA;IACtCY,gBAAkBpB,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ,EAAA;IACvCa,MAAQrB,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ;AAC/B,CACCF,CAAAA,CAAAA,QAAQ,GACRU,SAAS,EAAA;AAEL,MAAMM,eAAkBC,GAAAA,uBAAAA,CAAkBxB,cAAgB;AAE1D,MAAMyB,oCAAuCD,GAAAA,uBAAAA,CAClDN,uCACA;;;;;;"}