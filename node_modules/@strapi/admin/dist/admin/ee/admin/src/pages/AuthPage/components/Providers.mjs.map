{"version":3,"file":"Providers.mjs","sources":["../../../../../../../../ee/admin/src/pages/AuthPage/components/Providers.tsx"],"sourcesContent":["import { Box, Button, Divider, Flex, Loader, Main, Typography, Link } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { NavLink, Navigate, useNavigate } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\nimport { Logo } from '../../../../../../admin/src/components/UnauthenticatedLogo';\nimport {\n  Column,\n  LayoutContent,\n  UnauthenticatedLayout,\n} from '../../../../../../admin/src/layouts/UnauthenticatedLayout';\nimport { useGetProvidersQuery } from '../../../../../../admin/src/services/auth';\n\nimport { SSOProviders } from './SSOProviders';\n\nconst Providers = () => {\n  const navigate = useNavigate();\n  const { formatMessage } = useIntl();\n  const { isLoading, data: providers = [] } = useGetProvidersQuery(undefined, {\n    skip: !window.strapi.features.isEnabled(window.strapi.features.SSO),\n  });\n\n  const handleClick = () => {\n    navigate('/auth/login');\n  };\n\n  if (\n    !window.strapi.features.isEnabled(window.strapi.features.SSO) ||\n    (!isLoading && providers.length === 0)\n  ) {\n    return <Navigate to=\"/auth/login\" />;\n  }\n\n  return (\n    <UnauthenticatedLayout>\n      <Main>\n        <LayoutContent>\n          <Column>\n            <Logo />\n            <Box paddingTop={6} paddingBottom={1}>\n              <Typography tag=\"h1\" variant=\"alpha\">\n                {formatMessage({ id: 'Auth.form.welcome.title' })}\n              </Typography>\n            </Box>\n            <Box paddingBottom={7}>\n              <Typography variant=\"epsilon\" textColor=\"neutral600\">\n                {formatMessage({ id: 'Auth.login.sso.subtitle' })}\n              </Typography>\n            </Box>\n          </Column>\n          <Flex direction=\"column\" alignItems=\"stretch\" gap={7}>\n            {isLoading ? (\n              <Flex justifyContent=\"center\">\n                <Loader>{formatMessage({ id: 'Auth.login.sso.loading' })}</Loader>\n              </Flex>\n            ) : (\n              <SSOProviders providers={providers} />\n            )}\n            <Flex>\n              <DividerFull />\n              <Box paddingLeft={3} paddingRight={3}>\n                <Typography variant=\"sigma\" textColor=\"neutral600\">\n                  {formatMessage({ id: 'or' })}\n                </Typography>\n              </Box>\n              <DividerFull />\n            </Flex>\n            <Button fullWidth size=\"L\" onClick={handleClick}>\n              {formatMessage({ id: 'Auth.form.button.login.strapi' })}\n            </Button>\n          </Flex>\n        </LayoutContent>\n        <Flex justifyContent=\"center\">\n          <Box paddingTop={4}>\n            <Link tag={NavLink} to=\"/auth/forgot-password\">\n              <Typography variant=\"pi\">\n                {formatMessage({ id: 'Auth.link.forgot-password' })}\n              </Typography>\n            </Link>\n          </Box>\n        </Flex>\n      </Main>\n    </UnauthenticatedLayout>\n  );\n};\n\nconst DividerFull = styled(Divider)`\n  flex: 1;\n`;\n\nexport { Providers };\n"],"names":["Providers","navigate","useNavigate","formatMessage","useIntl","isLoading","data","providers","useGetProvidersQuery","undefined","skip","window","strapi","features","isEnabled","SSO","handleClick","length","_jsx","Navigate","to","UnauthenticatedLayout","_jsxs","Main","LayoutContent","Column","Logo","Box","paddingTop","paddingBottom","Typography","tag","variant","id","textColor","Flex","direction","alignItems","gap","justifyContent","Loader","SSOProviders","DividerFull","paddingLeft","paddingRight","Button","fullWidth","size","onClick","Link","NavLink","styled","Divider"],"mappings":"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"}