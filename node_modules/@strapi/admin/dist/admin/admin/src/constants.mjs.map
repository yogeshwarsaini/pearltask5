{"version":3,"file":"constants.mjs","sources":["../../../../admin/src/constants.ts"],"sourcesContent":["import { PermissionMap } from './types/permissions';\n\nimport type { StrapiAppSettingLink } from './core/apis/router';\n\nexport const ADMIN_PERMISSIONS_CE = {\n  contentManager: {\n    main: [],\n    collectionTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.collection-types.configure-view',\n        subject: null,\n      },\n    ],\n    componentsConfigurations: [\n      {\n        action: 'plugin::content-manager.components.configure-layout',\n        subject: null,\n      },\n    ],\n    singleTypesConfigurations: [\n      {\n        action: 'plugin::content-manager.single-types.configure-view',\n        subject: null,\n      },\n    ],\n  },\n  marketplace: {\n    main: [{ action: 'admin::marketplace.read', subject: null }],\n    read: [{ action: 'admin::marketplace.read', subject: null }],\n  },\n  settings: {\n    roles: {\n      main: [\n        { action: 'admin::roles.create', subject: null },\n        { action: 'admin::roles.update', subject: null },\n        { action: 'admin::roles.read', subject: null },\n        { action: 'admin::roles.delete', subject: null },\n      ],\n      create: [{ action: 'admin::roles.create', subject: null }],\n      delete: [{ action: 'admin::roles.delete', subject: null }],\n      read: [{ action: 'admin::roles.read', subject: null }],\n      update: [{ action: 'admin::roles.update', subject: null }],\n    },\n    users: {\n      main: [\n        { action: 'admin::users.create', subject: null },\n        { action: 'admin::users.read', subject: null },\n        { action: 'admin::users.update', subject: null },\n        { action: 'admin::users.delete', subject: null },\n      ],\n      create: [{ action: 'admin::users.create', subject: null }],\n      delete: [{ action: 'admin::users.delete', subject: null }],\n      read: [{ action: 'admin::users.read', subject: null }],\n      update: [{ action: 'admin::users.update', subject: null }],\n    },\n    webhooks: {\n      main: [\n        { action: 'admin::webhooks.create', subject: null },\n        { action: 'admin::webhooks.read', subject: null },\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      create: [{ action: 'admin::webhooks.create', subject: null }],\n      delete: [{ action: 'admin::webhooks.delete', subject: null }],\n      read: [\n        { action: 'admin::webhooks.read', subject: null },\n        // NOTE: We need to check with the API\n        { action: 'admin::webhooks.update', subject: null },\n        { action: 'admin::webhooks.delete', subject: null },\n      ],\n      update: [{ action: 'admin::webhooks.update', subject: null }],\n    },\n    'api-tokens': {\n      main: [{ action: 'admin::api-tokens.access', subject: null }],\n      create: [{ action: 'admin::api-tokens.create', subject: null }],\n      delete: [{ action: 'admin::api-tokens.delete', subject: null }],\n      read: [{ action: 'admin::api-tokens.read', subject: null }],\n      update: [{ action: 'admin::api-tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::api-tokens.regenerate', subject: null }],\n    },\n    'transfer-tokens': {\n      main: [{ action: 'admin::transfer.tokens.access', subject: null }],\n      create: [{ action: 'admin::transfer.tokens.create', subject: null }],\n      delete: [{ action: 'admin::transfer.tokens.delete', subject: null }],\n      read: [{ action: 'admin::transfer.tokens.read', subject: null }],\n      update: [{ action: 'admin::transfer.tokens.update', subject: null }],\n      regenerate: [{ action: 'admin::transfer.tokens.regenerate', subject: null }],\n    },\n    'project-settings': {\n      read: [{ action: 'admin::project-settings.read', subject: null }],\n      update: [{ action: 'admin::project-settings.update', subject: null }],\n    },\n    plugins: {\n      main: [{ action: 'admin::marketplace.read', subject: null }],\n      read: [{ action: 'admin::marketplace.read', subject: null }],\n    },\n  },\n} satisfies Partial<PermissionMap>;\n\nexport const HOOKS = {\n  /**\n   * Hook that allows to mutate the displayed headers of the list view table\n   * @constant\n   * @type {string}\n   */\n  INJECT_COLUMN_IN_TABLE: 'Admin/CM/pages/ListView/inject-column-in-table',\n\n  /**\n   * Hook that allows to mutate the CM's collection types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_COLLECTION_TYPES_LINKS: 'Admin/CM/pages/App/mutate-collection-types-links',\n\n  /**\n   * Hook that allows to mutate the CM's edit view layout\n   * @constant\n   * @type {string}\n   */\n  MUTATE_EDIT_VIEW_LAYOUT: 'Admin/CM/pages/EditView/mutate-edit-view-layout',\n\n  /**\n   * Hook that allows to mutate the CM's single types links pre-set filters\n   * @constant\n   * @type {string}\n   */\n  MUTATE_SINGLE_TYPES_LINKS: 'Admin/CM/pages/App/mutate-single-types-links',\n};\n\nexport interface SettingsMenuLink\n  extends Omit<StrapiAppSettingLink, 'Component' | 'permissions' | 'licenseOnly'> {\n  licenseOnly?: boolean;\n}\n\nexport type SettingsMenu = {\n  admin: SettingsMenuLink[];\n  global: SettingsMenuLink[];\n};\n\nexport const SETTINGS_LINKS_CE = (): SettingsMenu => ({\n  global: [\n    {\n      intlLabel: { id: 'Settings.application.title', defaultMessage: 'Overview' },\n      to: '/settings/application-infos',\n      id: '000-application-infos',\n    },\n    {\n      intlLabel: { id: 'Settings.webhooks.title', defaultMessage: 'Webhooks' },\n      to: '/settings/webhooks',\n      id: 'webhooks',\n    },\n    {\n      intlLabel: { id: 'Settings.apiTokens.title', defaultMessage: 'API Tokens' },\n      to: '/settings/api-tokens?sort=name:ASC',\n      id: 'api-tokens',\n    },\n    {\n      intlLabel: { id: 'Settings.transferTokens.title', defaultMessage: 'Transfer Tokens' },\n      to: '/settings/transfer-tokens?sort=name:ASC',\n      id: 'transfer-tokens',\n    },\n    {\n      intlLabel: {\n        id: 'global.plugins',\n        defaultMessage: 'Plugins',\n      },\n      to: '/settings/list-plugins',\n      id: 'plugins',\n    },\n    // If the Enterprise/Cloud feature is not enabled and if the config doesn't disable it, we promote the Enterprise/Cloud feature by displaying them in the settings menu.\n    // Disable this by adding \"promoteEE: false\" to your `./config/admin.js` file\n    ...(!window.strapi.features.isEnabled(window.strapi.features.SSO) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.sso.title', defaultMessage: 'Single Sign-On' },\n            to: '/settings/purchase-single-sign-on',\n            id: 'sso-purchase-page',\n            licenseOnly: true,\n          },\n        ]\n      : []),\n    ...(!window.strapi.features.isEnabled('cms-content-history') && window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'Settings.content-history.title', defaultMessage: 'Content History' },\n            to: '/settings/purchase-content-history',\n            id: 'content-history-purchase-page',\n            licenseOnly: true,\n          },\n        ]\n      : []),\n  ],\n\n  admin: [\n    {\n      intlLabel: { id: 'global.roles', defaultMessage: 'Roles' },\n      to: '/settings/roles',\n      id: 'roles',\n    },\n    {\n      intlLabel: { id: 'global.users', defaultMessage: 'Users' },\n      // Init the search params directly\n      to: '/settings/users?pageSize=10&page=1&sort=firstname',\n      id: 'users',\n    },\n    ...(!window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS) &&\n    window.strapi?.flags?.promoteEE\n      ? [\n          {\n            intlLabel: { id: 'global.auditLogs', defaultMessage: 'Audit Logs' },\n            to: '/settings/purchase-audit-logs',\n            id: 'auditLogs-purchase-page',\n            licenseOnly: true,\n          },\n        ]\n      : []),\n  ],\n});\n"],"names":["ADMIN_PERMISSIONS_CE","contentManager","main","collectionTypesConfigurations","action","subject","componentsConfigurations","singleTypesConfigurations","marketplace","read","settings","roles","create","delete","update","users","webhooks","regenerate","plugins","HOOKS","INJECT_COLUMN_IN_TABLE","MUTATE_COLLECTION_TYPES_LINKS","MUTATE_EDIT_VIEW_LAYOUT","MUTATE_SINGLE_TYPES_LINKS","SETTINGS_LINKS_CE","global","intlLabel","id","defaultMessage","to","window","strapi","features","isEnabled","SSO","flags","promoteEE","licenseOnly","admin","AUDIT_LOGS"],"mappings":"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"}