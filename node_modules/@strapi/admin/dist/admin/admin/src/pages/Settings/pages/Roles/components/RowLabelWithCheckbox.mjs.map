{"version":3,"file":"RowLabelWithCheckbox.mjs","sources":["../../../../../../../../../admin/src/pages/Settings/pages/Roles/components/RowLabelWithCheckbox.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { Checkbox, Box, Flex, Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { PermissionsDataManagerContextValue } from '../hooks/usePermissionsDataManager';\nimport { firstRowWidth } from '../utils/constants';\n\nimport { CollapseLabel } from './CollapseLabel';\n\ninterface RowLabelWithCheckboxProps {\n  children: React.ReactNode;\n  checkboxName?: string;\n  isActive?: boolean;\n  isCollapsable?: boolean;\n  isFormDisabled?: boolean;\n  label: string;\n  onChange: PermissionsDataManagerContextValue['onChangeParentCheckbox'];\n  onClick: () => void;\n  someChecked?: boolean;\n  value: boolean;\n}\n\nconst RowLabelWithCheckbox = ({\n  checkboxName = '',\n  children,\n  isActive = false,\n  isCollapsable = false,\n  isFormDisabled = false,\n  label,\n  onChange,\n  onClick,\n  someChecked = false,\n  value,\n}: RowLabelWithCheckboxProps) => {\n  const { formatMessage } = useIntl();\n\n  const collapseLabelProps = {\n    title: label,\n    alignItems: 'center',\n    $isCollapsable: isCollapsable,\n  };\n\n  if (isCollapsable) {\n    Object.assign(collapseLabelProps, {\n      onClick,\n      'aria-expanded': isActive,\n      onKeyDown({ key }: React.KeyboardEvent<HTMLDivElement>) {\n        if (key === 'Enter' || key === ' ') {\n          onClick();\n        }\n      },\n      tabIndex: 0,\n      role: 'button',\n    });\n  }\n\n  return (\n    <Flex alignItems=\"center\" paddingLeft={6} width={firstRowWidth} shrink={0}>\n      <Box paddingRight={2}>\n        <Checkbox\n          name={checkboxName}\n          aria-label={formatMessage(\n            {\n              id: `Settings.permissions.select-all-by-permission`,\n              defaultMessage: 'Select all {label} permissions',\n            },\n            { label }\n          )}\n          disabled={isFormDisabled}\n          // Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91\n          onCheckedChange={(value) =>\n            onChange({\n              target: {\n                name: checkboxName,\n                value: !!value,\n              },\n            })\n          }\n          checked={someChecked ? 'indeterminate' : value}\n        />\n      </Box>\n      <CollapseLabel {...collapseLabelProps}>\n        <Typography ellipsis>{label}</Typography>\n        {children}\n      </CollapseLabel>\n    </Flex>\n  );\n};\n\nexport { RowLabelWithCheckbox };\nexport type { RowLabelWithCheckboxProps };\n"],"names":["RowLabelWithCheckbox","checkboxName","children","isActive","isCollapsable","isFormDisabled","label","onChange","onClick","someChecked","value","formatMessage","useIntl","collapseLabelProps","title","alignItems","$isCollapsable","Object","assign","onKeyDown","key","tabIndex","role","_jsxs","Flex","paddingLeft","width","firstRowWidth","shrink","_jsx","Box","paddingRight","Checkbox","name","aria-label","id","defaultMessage","disabled","onCheckedChange","target","checked","CollapseLabel","Typography","ellipsis"],"mappings":";;;;;;;AAuBMA,MAAAA,oBAAAA,GAAuB,CAAC,EAC5BC,YAAe,GAAA,EAAE,EACjBC,QAAQ,EACRC,QAAAA,GAAW,KAAK,EAChBC,aAAgB,GAAA,KAAK,EACrBC,cAAAA,GAAiB,KAAK,EACtBC,KAAK,EACLC,QAAQ,EACRC,OAAO,EACPC,WAAc,GAAA,KAAK,EACnBC,KAAK,EACqB,GAAA;IAC1B,MAAM,EAAEC,aAAa,EAAE,GAAGC,OAAAA,EAAAA;AAE1B,IAAA,MAAMC,kBAAqB,GAAA;QACzBC,KAAOR,EAAAA,KAAAA;QACPS,UAAY,EAAA,QAAA;QACZC,cAAgBZ,EAAAA;AAClB,KAAA;AAEA,IAAA,IAAIA,aAAe,EAAA;QACjBa,MAAOC,CAAAA,MAAM,CAACL,kBAAoB,EAAA;AAChCL,YAAAA,OAAAA;YACA,eAAiBL,EAAAA,QAAAA;YACjBgB,SAAU,CAAA,CAAA,EAAEC,GAAG,EAAuC,EAAA;gBACpD,IAAIA,GAAAA,KAAQ,OAAWA,IAAAA,GAAAA,KAAQ,GAAK,EAAA;AAClCZ,oBAAAA,OAAAA,EAAAA;AACF;AACF,aAAA;YACAa,QAAU,EAAA,CAAA;YACVC,IAAM,EAAA;AACR,SAAA,CAAA;AACF;AAEA,IAAA,qBACEC,IAACC,CAAAA,IAAAA,EAAAA;QAAKT,UAAW,EAAA,QAAA;QAASU,WAAa,EAAA,CAAA;QAAGC,KAAOC,EAAAA,aAAAA;QAAeC,MAAQ,EAAA,CAAA;;0BACtEC,GAACC,CAAAA,GAAAA,EAAAA;gBAAIC,YAAc,EAAA,CAAA;AACjB,gBAAA,QAAA,gBAAAF,GAACG,CAAAA,QAAAA,EAAAA;oBACCC,IAAMhC,EAAAA,YAAAA;AACNiC,oBAAAA,YAAAA,EAAYvB,aACV,CAAA;wBACEwB,EAAI,EAAA,CAAC,6CAA6C,CAAC;wBACnDC,cAAgB,EAAA;qBAElB,EAAA;AAAE9B,wBAAAA;AAAM,qBAAA,CAAA;oBAEV+B,QAAUhC,EAAAA,cAAAA;;oBAEViC,eAAiB,EAAA,CAAC5B,QAChBH,QAAS,CAAA;4BACPgC,MAAQ,EAAA;gCACNN,IAAMhC,EAAAA,YAAAA;AACNS,gCAAAA,KAAAA,EAAO,CAAC,CAACA;AACX;AACF,yBAAA,CAAA;AAEF8B,oBAAAA,OAAAA,EAAS/B,cAAc,eAAkBC,GAAAA;;;0BAG7Ca,IAACkB,CAAAA,aAAAA,EAAAA;AAAe,gBAAA,GAAG5B,kBAAkB;;kCACnCgB,GAACa,CAAAA,UAAAA,EAAAA;wBAAWC,QAAQ,EAAA,IAAA;AAAErC,wBAAAA,QAAAA,EAAAA;;AACrBJ,oBAAAA;;;;;AAIT;;;;"}