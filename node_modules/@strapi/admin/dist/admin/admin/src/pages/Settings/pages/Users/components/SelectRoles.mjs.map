{"version":3,"file":"SelectRoles.mjs","sources":["../../../../../../../../../admin/src/pages/Settings/pages/Users/components/SelectRoles.tsx"],"sourcesContent":["import { Field, MultiSelect, MultiSelectOption } from '@strapi/design-system';\nimport { Loader as LoadingIcon } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled, keyframes } from 'styled-components';\n\nimport { useField } from '../../../../../components/Form';\nimport { useAdminRoles } from '../../../../../hooks/useAdminRoles';\n\ninterface SelectRolesProps {\n  disabled?: boolean;\n}\n\nconst SelectRoles = ({ disabled }: SelectRolesProps) => {\n  const { isLoading, roles } = useAdminRoles();\n\n  const { formatMessage } = useIntl();\n  const { value = [], onChange, error } = useField<string[]>('roles');\n\n  return (\n    <Field.Root\n      error={error}\n      hint={formatMessage({\n        id: 'app.components.Users.ModalCreateBody.block-title.roles.description',\n        defaultMessage: 'A user can have one or several roles',\n      })}\n      name=\"roles\"\n      required\n    >\n      <Field.Label>\n        {formatMessage({\n          id: 'app.components.Users.ModalCreateBody.block-title.roles',\n          defaultMessage: \"User's roles\",\n        })}\n      </Field.Label>\n      <MultiSelect\n        disabled={disabled}\n        onChange={(v) => {\n          onChange('roles', v);\n        }}\n        placeholder={formatMessage({\n          id: 'app.components.Select.placeholder',\n          defaultMessage: 'Select',\n        })}\n        startIcon={isLoading ? <Loader /> : undefined}\n        value={value.map((v) => v.toString())}\n        withTags\n      >\n        {roles.map((role) => {\n          return (\n            <MultiSelectOption key={role.id} value={role.id.toString()}>\n              {formatMessage({\n                id: `global.${role.code}`,\n                defaultMessage: role.name,\n              })}\n            </MultiSelectOption>\n          );\n        })}\n      </MultiSelect>\n      <Field.Error />\n      <Field.Hint />\n    </Field.Root>\n  );\n};\n\nconst rotation = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n`;\n\nconst LoadingWrapper = styled.div`\n  animation: ${rotation} 2s infinite linear;\n`;\n\nconst Loader = () => (\n  <LoadingWrapper>\n    <LoadingIcon />\n  </LoadingWrapper>\n);\n\nexport { SelectRoles };\n"],"names":["SelectRoles","disabled","isLoading","roles","useAdminRoles","formatMessage","useIntl","value","onChange","error","useField","_jsxs","Field","Root","hint","id","defaultMessage","name","required","_jsx","Label","MultiSelect","v","placeholder","startIcon","Loader","undefined","map","toString","withTags","role","MultiSelectOption","code","Error","Hint","rotation","keyframes","LoadingWrapper","styled","div","LoadingIcon"],"mappings":";;;;;;;;AAYA,MAAMA,WAAc,GAAA,CAAC,EAAEC,QAAQ,EAAoB,GAAA;AACjD,IAAA,MAAM,EAAEC,SAAS,EAAEC,KAAK,EAAE,GAAGC,aAAAA,EAAAA;IAE7B,MAAM,EAAEC,aAAa,EAAE,GAAGC,OAAAA,EAAAA;IAC1B,MAAM,EAAEC,QAAQ,EAAE,EAAEC,QAAQ,EAAEC,KAAK,EAAE,GAAGC,QAAmB,CAAA,OAAA,CAAA;IAE3D,qBACEC,IAAA,CAACC,MAAMC,IAAI,EAAA;QACTJ,KAAOA,EAAAA,KAAAA;AACPK,QAAAA,IAAAA,EAAMT,aAAc,CAAA;YAClBU,EAAI,EAAA,oEAAA;YACJC,cAAgB,EAAA;AAClB,SAAA,CAAA;QACAC,IAAK,EAAA,OAAA;QACLC,QAAQ,EAAA,IAAA;;AAER,0BAAAC,GAAA,CAACP,MAAMQ,KAAK,EAAA;0BACTf,aAAc,CAAA;oBACbU,EAAI,EAAA,wDAAA;oBACJC,cAAgB,EAAA;AAClB,iBAAA;;0BAEFG,GAACE,CAAAA,WAAAA,EAAAA;gBACCpB,QAAUA,EAAAA,QAAAA;AACVO,gBAAAA,QAAAA,EAAU,CAACc,CAAAA,GAAAA;AACTd,oBAAAA,QAAAA,CAAS,OAASc,EAAAA,CAAAA,CAAAA;AACpB,iBAAA;AACAC,gBAAAA,WAAAA,EAAalB,aAAc,CAAA;oBACzBU,EAAI,EAAA,mCAAA;oBACJC,cAAgB,EAAA;AAClB,iBAAA,CAAA;gBACAQ,SAAWtB,EAAAA,SAAAA,iBAAYiB,IAACM,MAAYC,EAAAA,EAAAA,CAAAA,GAAAA,SAAAA;AACpCnB,gBAAAA,KAAAA,EAAOA,MAAMoB,GAAG,CAAC,CAACL,CAAAA,GAAMA,EAAEM,QAAQ,EAAA,CAAA;gBAClCC,QAAQ,EAAA,IAAA;0BAEP1B,KAAMwB,CAAAA,GAAG,CAAC,CAACG,IAAAA,GAAAA;AACV,oBAAA,qBACEX,GAACY,CAAAA,iBAAAA,EAAAA;wBAAgCxB,KAAOuB,EAAAA,IAAAA,CAAKf,EAAE,CAACa,QAAQ,EAAA;kCACrDvB,aAAc,CAAA;AACbU,4BAAAA,EAAAA,EAAI,CAAC,OAAO,EAAEe,IAAKE,CAAAA,IAAI,CAAC,CAAC;AACzBhB,4BAAAA,cAAAA,EAAgBc,KAAKb;AACvB,yBAAA;AAJsBa,qBAAAA,EAAAA,IAAAA,CAAKf,EAAE,CAAA;AAOnC,iBAAA;;AAEF,0BAAAI,GAAA,CAACP,MAAMqB,KAAK,EAAA,EAAA,CAAA;AACZ,0BAAAd,GAAA,CAACP,MAAMsB,IAAI,EAAA,EAAA;;;AAGjB;AAEA,MAAMC,QAAAA,GAAWC,SAAS;;;;;;;AAO1B,CAAC;AAED,MAAMC,cAAAA,GAAiBC,MAAOC,CAAAA,GAAG;AACpB,aAAA,EAAEJ,QAAS,CAAA;AACxB,CAAC;AAED,MAAMV,MAAAA,GAAS,kBACbN,GAACkB,CAAAA,cAAAA,EAAAA;AACC,QAAA,QAAA,gBAAAlB,GAACqB,CAAAA,QAAAA,EAAAA,EAAAA;;;;;"}