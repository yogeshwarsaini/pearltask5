{"version":3,"file":"isTelemetryEnabled.mjs","sources":["../../../../../server/src/policies/isTelemetryEnabled.ts"],"sourcesContent":["import { policy } from '@strapi/utils';\n\n// TODO: TS - Try to make { policy: { createPolicy } } from '@strapi/utils'; work\nconst { createPolicy } = policy;\n\n/**\n * This policy is used for routes dealing with telemetry and analytics content.\n * It will fails when the telemetry has been disabled on the server.\n */\nexport default createPolicy({\n  name: 'admin::isTelemetryEnabled',\n  handler(_ctx, _config, { strapi }) {\n    if (strapi.telemetry.isDisabled) {\n      return false;\n    }\n  },\n});\n"],"names":["createPolicy","policy","name","handler","_ctx","_config","strapi","telemetry","isDisabled"],"mappings":";;AAEA;AACA,MAAM,EAAEA,YAAY,EAAE,GAAGC,MAAAA;AAEzB;;;AAGC,IACD,yBAAeD,YAAa,CAAA;IAC1BE,IAAM,EAAA,2BAAA;AACNC,IAAAA,OAAAA,CAAAA,CAAQC,IAAI,EAAEC,OAAO,EAAE,EAAEC,MAAM,EAAE,EAAA;AAC/B,QAAA,IAAIA,MAAOC,CAAAA,SAAS,CAACC,UAAU,EAAE;YAC/B,OAAO,KAAA;AACT;AACF;AACF,CAAG,CAAA;;;;"}