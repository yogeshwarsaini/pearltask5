{"version":3,"file":"api-tokens.js","sources":["../../../../../server/src/validation/api-tokens.ts"],"sourcesContent":["import { yup, validateYupSchema } from '@strapi/utils';\nimport constants from '../services/constants';\n\nconst apiTokenCreationSchema = yup\n  .object()\n  .shape({\n    name: yup.string().min(1).required(),\n    description: yup.string().optional(),\n    type: yup.string().oneOf(Object.values(constants.API_TOKEN_TYPE)).required(),\n    permissions: yup.array().of(yup.string()).nullable(),\n    lifespan: yup.number().min(1).oneOf(Object.values(constants.API_TOKEN_LIFESPANS)).nullable(),\n  })\n  .noUnknown()\n  .strict();\n\nconst apiTokenUpdateSchema = yup\n  .object()\n  .shape({\n    name: yup.string().min(1).notNull(),\n    description: yup.string().nullable(),\n    type: yup.string().oneOf(Object.values(constants.API_TOKEN_TYPE)).notNull(),\n    permissions: yup.array().of(yup.string()).nullable(),\n  })\n  .noUnknown()\n  .strict();\n\nexport const validateApiTokenCreationInput = validateYupSchema(apiTokenCreationSchema);\nexport const validateApiTokenUpdateInput = validateYupSchema(apiTokenUpdateSchema);\n\nexport default {\n  validateApiTokenCreationInput,\n  validateApiTokenUpdateInput,\n};\n"],"names":["apiTokenCreationSchema","yup","object","shape","name","string","min","required","description","optional","type","oneOf","Object","values","constants","API_TOKEN_TYPE","permissions","array","of","nullable","lifespan","number","API_TOKEN_LIFESPANS","noUnknown","strict","apiTokenUpdateSchema","notNull","validateApiTokenCreationInput","validateYupSchema","validateApiTokenUpdateInput"],"mappings":";;;;;AAGA,MAAMA,sBAAyBC,GAAAA,SAAAA,CAC5BC,MAAM,EAAA,CACNC,KAAK,CAAC;AACLC,IAAAA,IAAAA,EAAMH,UAAII,MAAM,EAAA,CAAGC,GAAG,CAAC,GAAGC,QAAQ,EAAA;IAClCC,WAAaP,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGI,QAAQ,EAAA;IAClCC,IAAMT,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGM,KAAK,CAACC,MAAOC,CAAAA,MAAM,CAACC,SAAAA,CAAUC,cAAc,CAAA,CAAA,CAAGR,QAAQ,EAAA;IAC1ES,WAAaf,EAAAA,SAAAA,CAAIgB,KAAK,EAAGC,CAAAA,EAAE,CAACjB,SAAII,CAAAA,MAAM,IAAIc,QAAQ,EAAA;AAClDC,IAAAA,QAAAA,EAAUnB,SAAIoB,CAAAA,MAAM,EAAGf,CAAAA,GAAG,CAAC,CAAGK,CAAAA,CAAAA,KAAK,CAACC,MAAAA,CAAOC,MAAM,CAACC,SAAUQ,CAAAA,mBAAmB,GAAGH,QAAQ;AAC5F,CACCI,CAAAA,CAAAA,SAAS,GACTC,MAAM,EAAA;AAET,MAAMC,oBAAuBxB,GAAAA,SAAAA,CAC1BC,MAAM,EAAA,CACNC,KAAK,CAAC;AACLC,IAAAA,IAAAA,EAAMH,UAAII,MAAM,EAAA,CAAGC,GAAG,CAAC,GAAGoB,OAAO,EAAA;IACjClB,WAAaP,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGc,QAAQ,EAAA;IAClCT,IAAMT,EAAAA,SAAAA,CAAII,MAAM,EAAA,CAAGM,KAAK,CAACC,MAAOC,CAAAA,MAAM,CAACC,SAAAA,CAAUC,cAAc,CAAA,CAAA,CAAGW,OAAO,EAAA;IACzEV,WAAaf,EAAAA,SAAAA,CAAIgB,KAAK,EAAGC,CAAAA,EAAE,CAACjB,SAAII,CAAAA,MAAM,IAAIc,QAAQ;AACpD,CACCI,CAAAA,CAAAA,SAAS,GACTC,MAAM,EAAA;AAEF,MAAMG,6BAAgCC,GAAAA,uBAAAA,CAAkB5B,sBAAwB;AAChF,MAAM6B,2BAA8BD,GAAAA,uBAAAA,CAAkBH,oBAAsB;;;;;"}