{"version":3,"file":"project-settings.mjs","sources":["../../../../../server/src/validation/project-settings.ts"],"sourcesContent":["import { z } from 'zod';\nimport { validateZod } from '@strapi/utils';\n\nconst MAX_IMAGE_WIDTH = 750;\nconst MAX_IMAGE_HEIGHT = MAX_IMAGE_WIDTH;\nconst MAX_IMAGE_FILE_SIZE = 1024 * 1024; // 1Mo\n\nconst updateProjectSettings = z\n  .object({\n    menuLogo: z.string().nullish(),\n    authLogo: z.string().nullish(),\n  })\n  .strict();\n\nconst updateProjectSettingsLogo = z.object({\n  originalFilename: z.string().nullish(),\n  mimetype: z.enum(['image/jpeg', 'image/png', 'image/svg+xml']),\n  size: z.number().max(MAX_IMAGE_FILE_SIZE).nullish(),\n});\n\nconst updateProjectSettingsFiles = z\n  .object({\n    menuLogo: updateProjectSettingsLogo.nullish(),\n    authLogo: updateProjectSettingsLogo.nullish(),\n  })\n  .strict();\n\nconst logoDimensions = z.object({\n  width: z.number().max(MAX_IMAGE_WIDTH).nullish(),\n  height: z.number().max(MAX_IMAGE_HEIGHT).nullish(),\n});\n\nconst updateProjectSettingsImagesDimensions = z\n  .object({\n    menuLogo: logoDimensions.nullish(),\n    authLogo: logoDimensions.nullish(),\n  })\n  .strict();\n\nexport const validateUpdateProjectSettings = validateZod(updateProjectSettings);\nexport const validateUpdateProjectSettingsFiles = validateZod(updateProjectSettingsFiles);\nexport const validateUpdateProjectSettingsImagesDimensions = validateZod(\n  updateProjectSettingsImagesDimensions\n);\n\nexport default {\n  validateUpdateProjectSettings,\n  validateUpdateProjectSettingsFiles,\n  validateUpdateProjectSettingsImagesDimensions,\n};\n"],"names":["MAX_IMAGE_WIDTH","MAX_IMAGE_HEIGHT","MAX_IMAGE_FILE_SIZE","updateProjectSettings","z","object","menuLogo","string","nullish","authLogo","strict","updateProjectSettingsLogo","originalFilename","mimetype","enum","size","number","max","updateProjectSettingsFiles","logoDimensions","width","height","updateProjectSettingsImagesDimensions","validateUpdateProjectSettings","validateZod","validateUpdateProjectSettingsFiles","validateUpdateProjectSettingsImagesDimensions"],"mappings":";;;AAGA,MAAMA,eAAkB,GAAA,GAAA;AACxB,MAAMC,gBAAmBD,GAAAA,eAAAA;AACzB,MAAME,mBAAAA,GAAsB,IAAO,GAAA,IAAA,CAAA;AAEnC,MAAMC,qBAAAA,GAAwBC,CAC3BC,CAAAA,MAAM,CAAC;IACNC,QAAUF,EAAAA,CAAAA,CAAEG,MAAM,EAAA,CAAGC,OAAO,EAAA;IAC5BC,QAAUL,EAAAA,CAAAA,CAAEG,MAAM,EAAA,CAAGC,OAAO;AAC9B,CAAA,CAAA,CACCE,MAAM,EAAA;AAET,MAAMC,yBAAAA,GAA4BP,CAAEC,CAAAA,MAAM,CAAC;IACzCO,gBAAkBR,EAAAA,CAAAA,CAAEG,MAAM,EAAA,CAAGC,OAAO,EAAA;IACpCK,QAAUT,EAAAA,CAAAA,CAAEU,IAAI,CAAC;AAAC,QAAA,YAAA;AAAc,QAAA,WAAA;AAAa,QAAA;AAAgB,KAAA,CAAA;AAC7DC,IAAAA,IAAAA,EAAMX,EAAEY,MAAM,EAAA,CAAGC,GAAG,CAACf,qBAAqBM,OAAO;AACnD,CAAA,CAAA;AAEA,MAAMU,0BAAAA,GAA6Bd,CAChCC,CAAAA,MAAM,CAAC;AACNC,IAAAA,QAAAA,EAAUK,0BAA0BH,OAAO,EAAA;AAC3CC,IAAAA,QAAAA,EAAUE,0BAA0BH,OAAO;AAC7C,CAAA,CAAA,CACCE,MAAM,EAAA;AAET,MAAMS,cAAAA,GAAiBf,CAAEC,CAAAA,MAAM,CAAC;AAC9Be,IAAAA,KAAAA,EAAOhB,EAAEY,MAAM,EAAA,CAAGC,GAAG,CAACjB,iBAAiBQ,OAAO,EAAA;AAC9Ca,IAAAA,MAAAA,EAAQjB,EAAEY,MAAM,EAAA,CAAGC,GAAG,CAAChB,kBAAkBO,OAAO;AAClD,CAAA,CAAA;AAEA,MAAMc,qCAAAA,GAAwClB,CAC3CC,CAAAA,MAAM,CAAC;AACNC,IAAAA,QAAAA,EAAUa,eAAeX,OAAO,EAAA;AAChCC,IAAAA,QAAAA,EAAUU,eAAeX,OAAO;AAClC,CAAA,CAAA,CACCE,MAAM,EAAA;AAEF,MAAMa,6BAAgCC,GAAAA,WAAAA,CAAYrB,qBAAuB;AACzE,MAAMsB,kCAAqCD,GAAAA,WAAAA,CAAYN,0BAA4B;AACnF,MAAMQ,6CAAgDF,GAAAA,WAAAA,CAC3DF,qCACA;;;;"}