{"version":3,"file":"index.js","sources":["../../server/src/index.ts"],"sourcesContent":["import _ from 'lodash';\n\nimport bootstrap from './bootstrap';\nimport register from './register';\nimport destroy from './destroy';\nimport config from './config';\nimport policies from './policies';\nimport routes from './routes';\nimport services from './services';\nimport controllers from './controllers';\nimport contentTypes from './content-types';\nimport middlewares from './middlewares';\nimport getEEAdmin from '../../ee/server/src';\n\n// eslint-disable-next-line import/no-mutable-exports\nlet admin = {\n  bootstrap,\n  register,\n  destroy,\n  config,\n  policies,\n  routes,\n  services,\n  controllers,\n  contentTypes,\n  middlewares,\n};\n\nconst mergeRoutes = (a: any, b: any, key: string) => {\n  return _.isArray(a) && _.isArray(b) && key === 'routes' ? a.concat(b) : undefined;\n};\n\nif (strapi.EE) {\n  admin = _.mergeWith({}, admin, getEEAdmin(), mergeRoutes);\n}\n\nexport default admin;\n"],"names":["admin","bootstrap","register","destroy","config","policies","routes","services","controllers","contentTypes","middlewares","mergeRoutes","a","b","key","_","isArray","concat","undefined","strapi","EE","mergeWith","getEEAdmin"],"mappings":";;;;;;;;;;;;;;;AAcA;AACA,IAAIA,KAAQ,GAAA;AACVC,IAAAA,SAAAA;AACAC,IAAAA,QAAAA;AACAC,IAAAA,OAAAA;AACAC,YAAAA,eAAAA;AACAC,cAAAA,OAAAA;AACAC,YAAAA,OAAAA;AACAC,cAAAA,OAAAA;AACAC,iBAAAA,OAAAA;AACAC,kBAAAA,OAAAA;AACAC,iBAAAA;AACF,CAAA;AAEA,MAAMC,WAAAA,GAAc,CAACC,CAAAA,EAAQC,CAAQC,EAAAA,GAAAA,GAAAA;AACnC,IAAA,OAAOC,CAAEC,CAAAA,OAAO,CAACJ,CAAAA,CAAAA,IAAMG,CAAEC,CAAAA,OAAO,CAACH,CAAAA,CAAAA,IAAMC,GAAQ,KAAA,QAAA,GAAWF,CAAEK,CAAAA,MAAM,CAACJ,CAAKK,CAAAA,GAAAA,SAAAA;AAC1E,CAAA;AAEA,IAAIC,MAAAA,CAAOC,EAAE,EAAE;AACbpB,IAAAA,KAAAA,GAAQe,EAAEM,SAAS,CAAC,EAAC,EAAGrB,OAAOsB,KAAcX,EAAAA,EAAAA,WAAAA,CAAAA;AAC/C;AAEA,cAAeX,KAAM;;;;"}