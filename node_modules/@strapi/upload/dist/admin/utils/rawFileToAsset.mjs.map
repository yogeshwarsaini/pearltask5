{"version":3,"file":"rawFileToAsset.mjs","sources":["../../../admin/src/utils/rawFileToAsset.ts"],"sourcesContent":["import { AssetSource } from '../constants';\n\nimport { typeFromMime } from './typeFromMime';\n\nimport type { RawFile } from '../../../shared/contracts/files';\n\nexport const rawFileToAsset = (rawFile: RawFile, assetSource: AssetSource) => {\n  return {\n    size: rawFile.size / 1000,\n    createdAt: new Date(rawFile.lastModified).toISOString(),\n    name: rawFile.name,\n    source: assetSource,\n    type: typeFromMime(rawFile.type),\n    url: URL.createObjectURL(rawFile),\n    ext: rawFile.name.split('.').pop(),\n    mime: rawFile.type,\n    rawFile,\n    isLocal: true,\n  };\n};\n"],"names":["rawFileToAsset","rawFile","assetSource","size","createdAt","Date","lastModified","toISOString","name","source","type","typeFromMime","url","URL","createObjectURL","ext","split","pop","mime","isLocal"],"mappings":";;AAMO,MAAMA,cAAiB,GAAA,CAACC,OAAkBC,EAAAA,WAAAA,GAAAA;IAC/C,OAAO;QACLC,IAAMF,EAAAA,OAAAA,CAAQE,IAAI,GAAG,IAAA;AACrBC,QAAAA,SAAAA,EAAW,IAAIC,IAAAA,CAAKJ,OAAQK,CAAAA,YAAY,EAAEC,WAAW,EAAA;AACrDC,QAAAA,IAAAA,EAAMP,QAAQO,IAAI;QAClBC,MAAQP,EAAAA,WAAAA;QACRQ,IAAMC,EAAAA,YAAAA,CAAaV,QAAQS,IAAI,CAAA;QAC/BE,GAAKC,EAAAA,GAAAA,CAAIC,eAAe,CAACb,OAAAA,CAAAA;AACzBc,QAAAA,GAAAA,EAAKd,QAAQO,IAAI,CAACQ,KAAK,CAAC,KAAKC,GAAG,EAAA;AAChCC,QAAAA,IAAAA,EAAMjB,QAAQS,IAAI;AAClBT,QAAAA,OAAAA;QACAkB,OAAS,EAAA;AACX,KAAA;AACF;;;;"}