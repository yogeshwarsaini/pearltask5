{"version":3,"file":"getBreadcrumbDataML.mjs","sources":["../../../admin/src/utils/getBreadcrumbDataML.ts"],"sourcesContent":["import { getFolderURL } from './getFolderURL';\nimport { getTrad } from './getTrad';\n\nimport type { Query } from '../../../shared/contracts/files';\nimport type { Folder } from '../../../shared/contracts/folders';\nimport type { MessageDescriptor } from 'react-intl';\n\ninterface GetBreadcrumbDataMLProps {\n  folder: Folder;\n  options: {\n    pathname: string;\n    query?: Query;\n  };\n}\n\ninterface GetBreadcrumbDataMLReturn {\n  id: number | null;\n  label: string | MessageDescriptor;\n  href?: string;\n}\n\ntype BreadcrumbData = GetBreadcrumbDataMLReturn | [];\n\nexport const getBreadcrumbDataML = (\n  folder: GetBreadcrumbDataMLProps['folder'] | null,\n  { pathname, query }: GetBreadcrumbDataMLProps['options']\n) => {\n  const data: BreadcrumbData[] = [\n    {\n      id: null,\n      label: { id: getTrad('plugin.name'), defaultMessage: 'Media Library' },\n      href: folder ? getFolderURL(pathname, query || {}) : undefined,\n    },\n  ];\n\n  if (folder?.parent && typeof folder?.parent !== 'number' && folder?.parent?.parent) {\n    data.push([]);\n  }\n\n  if (folder?.parent && typeof folder.parent !== 'number') {\n    data.push({\n      id: folder.parent.id,\n      label: folder.parent.name,\n      href: getFolderURL(pathname, query || {}, {\n        folder: folder.parent.id?.toString(),\n        folderPath: folder.parent.path,\n      }),\n    });\n  }\n\n  if (folder) {\n    data.push({\n      id: folder.id,\n      label: folder.name,\n    });\n  }\n\n  return data;\n};\n"],"names":["getBreadcrumbDataML","folder","pathname","query","data","id","label","getTrad","defaultMessage","href","getFolderURL","undefined","parent","push","name","toString","folderPath","path"],"mappings":";;;AAuBO,MAAMA,sBAAsB,CACjCC,MAAAA,EACA,EAAEC,QAAQ,EAAEC,KAAK,EAAuC,GAAA;AAExD,IAAA,MAAMC,IAAyB,GAAA;AAC7B,QAAA;YACEC,EAAI,EAAA,IAAA;YACJC,KAAO,EAAA;AAAED,gBAAAA,EAAAA,EAAIE,OAAQ,CAAA,aAAA,CAAA;gBAAgBC,cAAgB,EAAA;AAAgB,aAAA;AACrEC,YAAAA,IAAAA,EAAMR,MAASS,GAAAA,YAAAA,CAAaR,QAAUC,EAAAA,KAAAA,IAAS,EAAMQ,CAAAA,GAAAA;AACvD;AACD,KAAA;IAED,IAAIV,MAAAA,EAAQW,UAAU,OAAOX,MAAAA,EAAQW,WAAW,QAAYX,IAAAA,MAAAA,EAAQW,QAAQA,MAAQ,EAAA;QAClFR,IAAKS,CAAAA,IAAI,CAAC,EAAE,CAAA;AACd;AAEA,IAAA,IAAIZ,QAAQW,MAAU,IAAA,OAAOX,MAAOW,CAAAA,MAAM,KAAK,QAAU,EAAA;AACvDR,QAAAA,IAAAA,CAAKS,IAAI,CAAC;YACRR,EAAIJ,EAAAA,MAAAA,CAAOW,MAAM,CAACP,EAAE;YACpBC,KAAOL,EAAAA,MAAAA,CAAOW,MAAM,CAACE,IAAI;AACzBL,YAAAA,IAAAA,EAAMC,YAAaR,CAAAA,QAAAA,EAAUC,KAAS,IAAA,EAAI,EAAA;AACxCF,gBAAAA,MAAAA,EAAQA,MAAOW,CAAAA,MAAM,CAACP,EAAE,EAAEU,QAAAA,EAAAA;gBAC1BC,UAAYf,EAAAA,MAAAA,CAAOW,MAAM,CAACK;AAC5B,aAAA;AACF,SAAA,CAAA;AACF;AAEA,IAAA,IAAIhB,MAAQ,EAAA;AACVG,QAAAA,IAAAA,CAAKS,IAAI,CAAC;AACRR,YAAAA,EAAAA,EAAIJ,OAAOI,EAAE;AACbC,YAAAA,KAAAA,EAAOL,OAAOa;AAChB,SAAA,CAAA;AACF;IAEA,OAAOV,IAAAA;AACT;;;;"}