{"version":3,"file":"Draggable.js","sources":["../../../../admin/src/components/AssetGridList/Draggable.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { useDrag, useDrop } from 'react-dnd';\n\ninterface DraggableProps {\n  id: string | number;\n  index: number;\n  children: React.ReactNode;\n  moveItem: (fromIndex: number, toIndex: number) => void;\n}\n\nexport const Draggable = ({ children, id, index, moveItem }: DraggableProps) => {\n  const ref = React.useRef(null);\n\n  const [, drop] = useDrop({\n    accept: 'draggable',\n    hover(hoveredOverItem: { id: number; index: number }) {\n      if (!ref.current) {\n        return;\n      }\n\n      if (hoveredOverItem.id !== id) {\n        moveItem(hoveredOverItem.index, index);\n\n        hoveredOverItem.index = index;\n      }\n    },\n  });\n\n  const [{ isDragging }, drag] = useDrag({\n    type: 'draggable',\n    item() {\n      return { index, id };\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const opacity = isDragging ? 0.2 : 1;\n\n  drag(drop(ref));\n\n  return (\n    <div ref={ref} style={{ opacity, cursor: 'move' }}>\n      {children}\n    </div>\n  );\n};\n"],"names":["Draggable","children","id","index","moveItem","ref","React","useRef","drop","useDrop","accept","hover","hoveredOverItem","current","isDragging","drag","useDrag","type","item","collect","monitor","opacity","_jsx","div","style","cursor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAWO,MAAMA,SAAY,GAAA,CAAC,EAAEC,QAAQ,EAAEC,EAAE,EAAEC,KAAK,EAAEC,QAAQ,EAAkB,GAAA;IACzE,MAAMC,GAAAA,GAAMC,gBAAMC,CAAAA,MAAM,CAAC,IAAA,CAAA;IAEzB,MAAM,GAAGC,IAAK,CAAA,GAAGC,gBAAQ,CAAA;QACvBC,MAAQ,EAAA,WAAA;AACRC,QAAAA,KAAAA,CAAAA,CAAMC,eAA8C,EAAA;YAClD,IAAI,CAACP,GAAIQ,CAAAA,OAAO,EAAE;AAChB,gBAAA;AACF;YAEA,IAAID,eAAAA,CAAgBV,EAAE,KAAKA,EAAI,EAAA;gBAC7BE,QAASQ,CAAAA,eAAAA,CAAgBT,KAAK,EAAEA,KAAAA,CAAAA;AAEhCS,gBAAAA,eAAAA,CAAgBT,KAAK,GAAGA,KAAAA;AAC1B;AACF;AACF,KAAA,CAAA;AAEA,IAAA,MAAM,CAAC,EAAEW,UAAU,EAAE,EAAEC,IAAAA,CAAK,GAAGC,gBAAQ,CAAA;QACrCC,IAAM,EAAA,WAAA;AACNC,QAAAA,IAAAA,CAAAA,GAAAA;YACE,OAAO;AAAEf,gBAAAA,KAAAA;AAAOD,gBAAAA;AAAG,aAAA;AACrB,SAAA;QACAiB,OAAS,EAAA,CAACC,WAAa;AACrBN,gBAAAA,UAAAA,EAAYM,QAAQN,UAAU;aAChC;AACF,KAAA,CAAA;IAEA,MAAMO,OAAAA,GAAUP,aAAa,GAAM,GAAA,CAAA;AAEnCC,IAAAA,IAAAA,CAAKP,IAAKH,CAAAA,GAAAA,CAAAA,CAAAA;AAEV,IAAA,qBACEiB,cAACC,CAAAA,KAAAA,EAAAA;QAAIlB,GAAKA,EAAAA,GAAAA;QAAKmB,KAAO,EAAA;AAAEH,YAAAA,OAAAA;YAASI,MAAQ,EAAA;AAAO,SAAA;AAC7CxB,QAAAA,QAAAA,EAAAA;;AAGP;;;;"}