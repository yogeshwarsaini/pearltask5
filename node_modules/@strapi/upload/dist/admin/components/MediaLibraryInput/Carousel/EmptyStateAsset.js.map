{"version":3,"file":"EmptyStateAsset.js","sources":["../../../../../admin/src/components/MediaLibraryInput/Carousel/EmptyStateAsset.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { Flex, Typography } from '@strapi/design-system';\nimport { PlusCircle as PicturePlus } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { AssetSource } from '../../../constants';\nimport { getTrad, rawFileToAsset } from '../../../utils';\n\nimport type { File } from '../../../../../shared/contracts/files';\n\nconst TextAlignTypography = styled(Typography)`\n  align-items: center;\n`;\n\ntype FileWithoutIdHash = Omit<File, 'id' | 'hash'>;\n\ninterface EmptyStateAssetProps {\n  disabled?: boolean;\n  onClick: (asset?: File, event?: React.MouseEventHandler<HTMLButtonElement>) => void;\n  onDropAsset: (assets: FileWithoutIdHash[]) => void;\n}\n\nexport const EmptyStateAsset = ({\n  disabled = false,\n  onClick,\n  onDropAsset,\n}: EmptyStateAssetProps) => {\n  const { formatMessage } = useIntl();\n  const [dragOver, setDragOver] = React.useState(false);\n\n  const handleDragEnter = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    setDragOver(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent<HTMLButtonElement>) => {\n    if (!e.currentTarget.contains(e.relatedTarget as Node)) {\n      setDragOver(false);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    if (e?.dataTransfer?.files) {\n      const files = e.dataTransfer.files;\n      const assets: FileWithoutIdHash[] = [];\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files.item(i);\n        if (file) {\n          const asset = rawFileToAsset(file, AssetSource.Computer);\n\n          assets.push(asset);\n        }\n      }\n\n      onDropAsset(assets);\n    }\n\n    setDragOver(false);\n  };\n\n  return (\n    <Flex\n      borderStyle={dragOver ? 'dashed' : undefined}\n      borderWidth={dragOver ? '1px' : undefined}\n      borderColor={dragOver ? 'primary600' : undefined}\n      direction=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      height=\"100%\"\n      width=\"100%\"\n      tag=\"button\"\n      type=\"button\"\n      disabled={disabled}\n      onClick={onClick as unknown as React.MouseEventHandler<HTMLButtonElement>}\n      onDragEnter={handleDragEnter}\n      onDragLeave={handleDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n      gap={3}\n      style={{ cursor: disabled ? 'not-allowed' : 'pointer' }}\n    >\n      <PicturePlus\n        aria-hidden\n        width=\"3.2rem\"\n        height=\"3.2rem\"\n        fill={disabled ? 'neutral400' : 'primary600'}\n      />\n      <TextAlignTypography\n        variant=\"pi\"\n        fontWeight=\"bold\"\n        textColor=\"neutral600\"\n        style={{ textAlign: 'center' }}\n        tag=\"span\"\n      >\n        {formatMessage({\n          id: getTrad('mediaLibraryInput.placeholder'),\n          defaultMessage: 'Click to add an asset or drag and drop one in this area',\n        })}\n      </TextAlignTypography>\n    </Flex>\n  );\n};\n"],"names":["TextAlignTypography","styled","Typography","EmptyStateAsset","disabled","onClick","onDropAsset","formatMessage","useIntl","dragOver","setDragOver","React","useState","handleDragEnter","e","preventDefault","handleDragLeave","currentTarget","contains","relatedTarget","handleDragOver","handleDrop","dataTransfer","files","assets","i","length","file","item","asset","rawFileToAsset","AssetSource","Computer","push","_jsxs","Flex","borderStyle","undefined","borderWidth","borderColor","direction","justifyContent","alignItems","height","width","tag","type","onDragEnter","onDragLeave","onDragOver","onDrop","gap","style","cursor","_jsx","PicturePlus","aria-hidden","fill","variant","fontWeight","textColor","textAlign","id","getTrad","defaultMessage"],"mappings":"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"}