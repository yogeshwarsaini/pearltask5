{"version":3,"file":"AssetPreview.js","sources":["../../../../../admin/src/components/EditAssetDialog/PreviewBox/AssetPreview.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/media-has-caption */\nimport * as React from 'react';\n\nimport MuxPlayer from '@mux/mux-player-react';\nimport { Box, Flex, Typography } from '@strapi/design-system';\nimport { File, FilePdf } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled, useTheme } from 'styled-components';\n\nimport { AssetType } from '../../../constants';\n\nconst CardAsset = styled(Flex)`\n  min-height: 26.4rem;\n  border-radius: ${({ theme }) => theme.borderRadius} ${({ theme }) => theme.borderRadius} 0 0;\n  background: linear-gradient(\n    180deg,\n    ${({ theme }) => theme.colors.neutral0} 0%,\n    ${({ theme }) => theme.colors.neutral100} 121.48%\n  );\n`;\n\ninterface AssetPreviewProps {\n  mime: string;\n  name: string;\n  url: string;\n  onLoad?: () => void;\n}\n\nexport const AssetPreview = React.forwardRef<\n  HTMLImageElement | HTMLVideoElement | HTMLAudioElement,\n  AssetPreviewProps\n>(({ mime, url, name, ...props }, ref) => {\n  const theme = useTheme();\n\n  const { formatMessage } = useIntl();\n\n  if (mime.includes(AssetType.Image)) {\n    return (\n      <img ref={ref as React.ForwardedRef<HTMLImageElement>} src={url} alt={name} {...props} />\n    );\n  }\n\n  if (mime.includes(AssetType.Video)) {\n    return <MuxPlayer src={url} accentColor={theme.colors.primary500} />;\n  }\n\n  if (mime.includes(AssetType.Audio)) {\n    return (\n      <Box margin=\"5\">\n        <audio controls src={url} ref={ref as React.ForwardedRef<HTMLAudioElement>} {...props}>\n          {name}\n        </audio>\n      </Box>\n    );\n  }\n\n  if (mime.includes('pdf')) {\n    return (\n      <CardAsset width=\"100%\" justifyContent=\"center\" {...props}>\n        <Flex gap={2} direction=\"column\" alignItems=\"center\">\n          <FilePdf aria-label={name} fill=\"neutral500\" width={24} height={24} />\n          <Typography textColor=\"neutral500\" variant=\"pi\">\n            {formatMessage({\n              id: 'noPreview',\n              defaultMessage: 'No preview available',\n            })}\n          </Typography>\n        </Flex>\n      </CardAsset>\n    );\n  }\n\n  return (\n    <CardAsset width=\"100%\" justifyContent=\"center\" {...props}>\n      <Flex gap={2} direction=\"column\" alignItems=\"center\">\n        <File aria-label={name} fill=\"neutral500\" width={24} height={24} />\n\n        <Typography textColor=\"neutral500\" variant=\"pi\">\n          {formatMessage({\n            id: 'noPreview',\n            defaultMessage: 'No preview available',\n          })}\n        </Typography>\n      </Flex>\n    </CardAsset>\n  );\n});\n\nAssetPreview.displayName = 'AssetPreview';\n"],"names":["CardAsset","styled","Flex","theme","borderRadius","colors","neutral0","neutral100","AssetPreview","React","forwardRef","mime","url","name","props","ref","useTheme","formatMessage","useIntl","includes","AssetType","Image","_jsx","img","src","alt","Video","MuxPlayer","accentColor","primary500","Audio","Box","margin","audio","controls","width","justifyContent","_jsxs","gap","direction","alignItems","FilePdf","aria-label","fill","height","Typography","textColor","variant","id","defaultMessage","File","displayName"],"mappings":"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"}