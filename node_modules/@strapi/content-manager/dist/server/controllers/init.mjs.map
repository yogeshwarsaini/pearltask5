{"version":3,"file":"init.mjs","sources":["../../../server/src/controllers/init.ts"],"sourcesContent":["import { getService } from '../utils';\n\nexport default {\n  getInitData(ctx: any) {\n    const { toDto } = getService('data-mapper');\n    const { findAllComponents } = getService('components');\n    const { getAllFieldSizes } = getService('field-sizes');\n    const { findAllContentTypes } = getService('content-types');\n\n    ctx.body = {\n      data: {\n        fieldSizes: getAllFieldSizes(),\n        components: findAllComponents().map(toDto),\n        contentTypes: findAllContentTypes().map(toDto),\n      },\n    };\n  },\n};\n"],"names":["getInitData","ctx","toDto","getService","findAllComponents","getAllFieldSizes","findAllContentTypes","body","data","fieldSizes","components","map","contentTypes"],"mappings":";;AAEA,WAAe;AACbA,IAAAA,WAAAA,CAAAA,CAAYC,GAAQ,EAAA;AAClB,QAAA,MAAM,EAAEC,KAAK,EAAE,GAAGC,UAAW,CAAA,aAAA,CAAA;AAC7B,QAAA,MAAM,EAAEC,iBAAiB,EAAE,GAAGD,UAAW,CAAA,YAAA,CAAA;AACzC,QAAA,MAAM,EAAEE,gBAAgB,EAAE,GAAGF,UAAW,CAAA,aAAA,CAAA;AACxC,QAAA,MAAM,EAAEG,mBAAmB,EAAE,GAAGH,UAAW,CAAA,eAAA,CAAA;AAE3CF,QAAAA,GAAAA,CAAIM,IAAI,GAAG;YACTC,IAAM,EAAA;gBACJC,UAAYJ,EAAAA,gBAAAA,EAAAA;gBACZK,UAAYN,EAAAA,iBAAAA,EAAAA,CAAoBO,GAAG,CAACT,KAAAA,CAAAA;gBACpCU,YAAcN,EAAAA,mBAAAA,EAAAA,CAAsBK,GAAG,CAACT,KAAAA;AAC1C;AACF,SAAA;AACF;AACF,CAAE;;;;"}