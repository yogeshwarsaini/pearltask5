{"version":3,"file":"history-version.mjs","sources":["../../../../server/src/history/models/history-version.ts"],"sourcesContent":["import type { Model } from '@strapi/database';\nimport { HISTORY_VERSION_UID } from '../constants';\n\nconst historyVersion: Model = {\n  uid: HISTORY_VERSION_UID,\n  tableName: 'strapi_history_versions',\n  singularName: 'history-version',\n  attributes: {\n    id: {\n      type: 'increments',\n    },\n    contentType: {\n      type: 'string',\n      column: { notNullable: true },\n    },\n    relatedDocumentId: {\n      type: 'string',\n      // TODO: notNullable should be true once history can record publish actions\n      column: { notNullable: false },\n    },\n    locale: {\n      type: 'string',\n    },\n    status: {\n      type: 'enumeration',\n      enum: ['draft', 'published', 'modified'],\n    },\n    data: {\n      type: 'json',\n    },\n    schema: {\n      type: 'json',\n    },\n    createdAt: {\n      type: 'datetime',\n      default: () => new Date(),\n    },\n    // FIXME: joinTable should be optional\n    // @ts-expect-error database model is not yet updated to support useJoinTable\n    createdBy: {\n      type: 'relation',\n      relation: 'oneToOne',\n      target: 'admin::user',\n      useJoinTable: false,\n    },\n  },\n};\n\nexport { historyVersion };\n"],"names":["historyVersion","uid","HISTORY_VERSION_UID","tableName","singularName","attributes","id","type","contentType","column","notNullable","relatedDocumentId","locale","status","enum","data","schema","createdAt","default","Date","createdBy","relation","target","useJoinTable"],"mappings":";;AAGA,MAAMA,cAAwB,GAAA;IAC5BC,GAAKC,EAAAA,mBAAAA;IACLC,SAAW,EAAA,yBAAA;IACXC,YAAc,EAAA,iBAAA;IACdC,UAAY,EAAA;QACVC,EAAI,EAAA;YACFC,IAAM,EAAA;AACR,SAAA;QACAC,WAAa,EAAA;YACXD,IAAM,EAAA,QAAA;YACNE,MAAQ,EAAA;gBAAEC,WAAa,EAAA;AAAK;AAC9B,SAAA;QACAC,iBAAmB,EAAA;YACjBJ,IAAM,EAAA,QAAA;;YAENE,MAAQ,EAAA;gBAAEC,WAAa,EAAA;AAAM;AAC/B,SAAA;QACAE,MAAQ,EAAA;YACNL,IAAM,EAAA;AACR,SAAA;QACAM,MAAQ,EAAA;YACNN,IAAM,EAAA,aAAA;YACNO,IAAM,EAAA;AAAC,gBAAA,OAAA;AAAS,gBAAA,WAAA;AAAa,gBAAA;AAAW;AAC1C,SAAA;QACAC,IAAM,EAAA;YACJR,IAAM,EAAA;AACR,SAAA;QACAS,MAAQ,EAAA;YACNT,IAAM,EAAA;AACR,SAAA;QACAU,SAAW,EAAA;YACTV,IAAM,EAAA,UAAA;AACNW,YAAAA,OAAAA,EAAS,IAAM,IAAIC,IAAAA;AACrB,SAAA;;;QAGAC,SAAW,EAAA;YACTb,IAAM,EAAA,UAAA;YACNc,QAAU,EAAA,UAAA;YACVC,MAAQ,EAAA,aAAA;YACRC,YAAc,EAAA;AAChB;AACF;AACF;;;;"}