{"version":3,"file":"homepage.js","sources":["../../../admin/src/services/homepage.ts"],"sourcesContent":["import * as Homepage from '../../../shared/contracts/homepage';\n\nimport { contentManagerApi } from './api';\n\nconst homepageService = contentManagerApi\n  .enhanceEndpoints({\n    addTagTypes: ['RecentDocumentList', 'CountDocuments'],\n  })\n  .injectEndpoints({\n    /**\n     * TODO: Remove overrideExisting when we remove the future flag\n     * and delete the old homepage service in the admin\n     */\n    overrideExisting: true,\n    endpoints: (builder) => ({\n      getRecentDocuments: builder.query<\n        Homepage.GetRecentDocuments.Response['data'],\n        Homepage.GetRecentDocuments.Request['query']\n      >({\n        query: (params) => `/content-manager/homepage/recent-documents?action=${params.action}`,\n        transformResponse: (response: Homepage.GetRecentDocuments.Response) => response.data,\n        providesTags: (res, _err, { action }) => [\n          { type: 'RecentDocumentList' as const, id: action },\n        ],\n      }),\n      getCountDocuments: builder.query<Homepage.GetCountDocuments.Response['data'], void>({\n        query: () => '/content-manager/homepage/count-documents',\n        transformResponse: (response: Homepage.GetCountDocuments.Response) => response.data,\n        providesTags: (_, _err) => ['CountDocuments'],\n      }),\n    }),\n  });\n\nconst { useGetRecentDocumentsQuery, useGetCountDocumentsQuery } = homepageService;\n\nexport { useGetRecentDocumentsQuery, useGetCountDocumentsQuery };\n"],"names":["homepageService","contentManagerApi","enhanceEndpoints","addTagTypes","injectEndpoints","overrideExisting","endpoints","builder","getRecentDocuments","query","params","action","transformResponse","response","data","providesTags","res","_err","type","id","getCountDocuments","_","useGetRecentDocumentsQuery","useGetCountDocumentsQuery"],"mappings":";;;;AAIA,MAAMA,eAAAA,GAAkBC,qBACrBC,CAAAA,gBAAgB,CAAC;IAChBC,WAAa,EAAA;AAAC,QAAA,oBAAA;AAAsB,QAAA;AAAiB;AACvD,CAAA,CAAA,CACCC,eAAe,CAAC;AACf;;;AAGC,QACDC,gBAAkB,EAAA,IAAA;IAClBC,SAAW,EAAA,CAACC,WAAa;YACvBC,kBAAoBD,EAAAA,OAAAA,CAAQE,KAAK,CAG/B;gBACAA,KAAO,EAAA,CAACC,SAAW,CAAC,kDAAkD,EAAEA,MAAOC,CAAAA,MAAM,CAAC,CAAC;gBACvFC,iBAAmB,EAAA,CAACC,QAAmDA,GAAAA,QAAAA,CAASC,IAAI;AACpFC,gBAAAA,YAAAA,EAAc,CAACC,GAAKC,EAAAA,IAAAA,EAAM,EAAEN,MAAM,EAAE,GAAK;AACvC,wBAAA;4BAAEO,IAAM,EAAA,oBAAA;4BAA+BC,EAAIR,EAAAA;AAAO;AACnD;AACH,aAAA,CAAA;YACAS,iBAAmBb,EAAAA,OAAAA,CAAQE,KAAK,CAAoD;AAClFA,gBAAAA,KAAAA,EAAO,IAAM,2CAAA;gBACbG,iBAAmB,EAAA,CAACC,QAAkDA,GAAAA,QAAAA,CAASC,IAAI;gBACnFC,YAAc,EAAA,CAACM,GAAGJ,IAAS,GAAA;AAAC,wBAAA;AAAiB;AAC/C,aAAA;SACF;AACF,CAAA,CAAA;AAEF,MAAM,EAAEK,0BAA0B,EAAEC,yBAAyB,EAAE,GAAGvB;;;;;"}