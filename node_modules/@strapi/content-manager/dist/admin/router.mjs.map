{"version":3,"file":"router.mjs","sources":["../../admin/src/router.tsx"],"sourcesContent":["/* eslint-disable check-file/filename-naming-convention */\nimport { lazy } from 'react';\n\nimport { Navigate, PathRouteProps, useParams } from 'react-router-dom';\n\nimport { COLLECTION_TYPES, SINGLE_TYPES } from './constants/collections';\nimport { routes as historyRoutes } from './history/routes';\nimport { routes as previewRoutes } from './preview/routes';\n\nconst ProtectedEditViewPage = lazy(() =>\n  import('./pages/EditView/EditViewPage').then((mod) => ({ default: mod.ProtectedEditViewPage }))\n);\nconst ProtectedListViewPage = lazy(() =>\n  import('./pages/ListView/ListViewPage').then((mod) => ({ default: mod.ProtectedListViewPage }))\n);\nconst ProtectedListConfiguration = lazy(() =>\n  import('./pages/ListConfiguration/ListConfigurationPage').then((mod) => ({\n    default: mod.ProtectedListConfiguration,\n  }))\n);\nconst ProtectedEditConfigurationPage = lazy(() =>\n  import('./pages/EditConfigurationPage').then((mod) => ({\n    default: mod.ProtectedEditConfigurationPage,\n  }))\n);\nconst ProtectedComponentConfigurationPage = lazy(() =>\n  import('./pages/ComponentConfigurationPage').then((mod) => ({\n    default: mod.ProtectedComponentConfigurationPage,\n  }))\n);\nconst NoPermissions = lazy(() =>\n  import('./pages/NoPermissionsPage').then((mod) => ({ default: mod.NoPermissions }))\n);\nconst NoContentType = lazy(() =>\n  import('./pages/NoContentTypePage').then((mod) => ({ default: mod.NoContentType }))\n);\n\nconst CollectionTypePages = () => {\n  const { collectionType } = useParams<{ collectionType: string }>();\n\n  /**\n   * We only support two types of collections.\n   */\n  if (collectionType !== COLLECTION_TYPES && collectionType !== SINGLE_TYPES) {\n    return <Navigate to=\"/404\" />;\n  }\n\n  return collectionType === COLLECTION_TYPES ? (\n    <ProtectedListViewPage />\n  ) : (\n    <ProtectedEditViewPage />\n  );\n};\n\nconst CLONE_RELATIVE_PATH = ':collectionType/:slug/clone/:origin';\nconst CLONE_PATH = `/content-manager/${CLONE_RELATIVE_PATH}`;\nconst LIST_RELATIVE_PATH = ':collectionType/:slug';\nconst LIST_PATH = `/content-manager/collection-types/:slug`;\n\nconst routes: PathRouteProps[] = [\n  {\n    path: LIST_RELATIVE_PATH,\n    element: <CollectionTypePages />,\n  },\n  {\n    path: ':collectionType/:slug/:id',\n    Component: ProtectedEditViewPage,\n  },\n  {\n    path: CLONE_RELATIVE_PATH,\n    Component: ProtectedEditViewPage,\n  },\n  {\n    path: ':collectionType/:slug/configurations/list',\n    Component: ProtectedListConfiguration,\n  },\n  {\n    path: 'components/:slug/configurations/edit',\n    Component: ProtectedComponentConfigurationPage,\n  },\n  {\n    path: ':collectionType/:slug/configurations/edit',\n    Component: ProtectedEditConfigurationPage,\n  },\n  {\n    path: '403',\n    Component: NoPermissions,\n  },\n  {\n    path: 'no-content-types',\n    Component: NoContentType,\n  },\n  ...historyRoutes,\n  ...previewRoutes,\n];\n\nexport { routes, CLONE_PATH, LIST_PATH };\n"],"names":["ProtectedEditViewPage","lazy","then","mod","default","ProtectedListViewPage","ProtectedListConfiguration","ProtectedEditConfigurationPage","ProtectedComponentConfigurationPage","NoPermissions","NoContentType","CollectionTypePages","collectionType","useParams","COLLECTION_TYPES","SINGLE_TYPES","_jsx","Navigate","to","CLONE_RELATIVE_PATH","CLONE_PATH","LIST_RELATIVE_PATH","LIST_PATH","routes","path","element","Component","historyRoutes","previewRoutes"],"mappings":"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"}