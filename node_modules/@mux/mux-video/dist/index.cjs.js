"use strict";var Qt=Object.defineProperty;var di=Object.getOwnPropertyDescriptor;var ui=Object.getOwnPropertyNames;var ci=Object.getPrototypeOf,hi=Object.prototype.hasOwnProperty;var li=Reflect.get;var fi=(e,i,t)=>i in e?Qt(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var mi=(e,i)=>{for(var t in i)Qt(e,t,{get:i[t],enumerable:!0})},pi=(e,i,t,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of ui(i))!hi.call(e,n)&&n!==t&&Qt(e,n,{get:()=>i[n],enumerable:!(s=di(i,n))||s.enumerable});return e};var gi=e=>pi(Qt({},"__esModule",{value:!0}),e);var T=(e,i,t)=>(fi(e,typeof i!="symbol"?i+"":i,t),t),Te=(e,i,t)=>{if(!i.has(e))throw TypeError("Cannot "+t)};var r=(e,i,t)=>(Te(e,i,"read from private field"),t?t.call(e):i.get(e)),u=(e,i,t)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,t)},h=(e,i,t,s)=>(Te(e,i,"write to private field"),s?s.call(e,t):i.set(e,t),t);var k=(e,i,t)=>(Te(e,i,"access private method"),t),Zt=(e,i,t)=>li(ci(e),t,i);var Mi={};mi(Mi,{Attributes:()=>o,MediaError:()=>f.MediaError,VideoEvents:()=>ee,default:()=>Li});module.exports=gi(Mi);var Tt=class{addEventListener(){}removeEventListener(){}dispatchEvent(i){return!0}};if(typeof DocumentFragment=="undefined"){class e extends Tt{}globalThis.DocumentFragment=e}var xt=class extends Tt{},be=class extends Tt{},Ei={get(e){},define(e,i,t){},getName(e){return null},upgrade(e){},whenDefined(e){return Promise.resolve(xt)}},Nt,ve=class{constructor(i,t={}){u(this,Nt,void 0);h(this,Nt,t==null?void 0:t.detail)}get detail(){return r(this,Nt)}initCustomEvent(){}};Nt=new WeakMap;function Ti(e,i){return new xt}var Pe={document:{createElement:Ti},DocumentFragment,customElements:Ei,CustomEvent:ve,EventTarget:Tt,HTMLElement:xt,HTMLVideoElement:be},Ie=typeof window=="undefined"||typeof globalThis.customElements=="undefined",te=Ie?Pe:globalThis,Ni=Ie?Pe.document:globalThis.document;var f=require("@mux/playback-core");var bi=()=>{try{return"0.22.0"}catch{}return"UNKNOWN"},vi=bi(),Le=()=>vi;var ee=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"];function yi(e){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${Ge(e)}></audio>
    </slot>
    <slot></slot>
  `}function Ai(e){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${Ge(e)}></video>
    </slot>
    <slot></slot>
  `}var xe=(e,{tag:i,is:t})=>{var l,m,d,b,_,Ne,pt,N,a,p,ot,x,ye,M,De,P,Ve;let s=(m=(l=globalThis.document)==null?void 0:l.createElement)==null?void 0:m.call(l,i,{is:t}),n=s?ki(s):[];return d=class extends e{constructor(){super();u(this,p);u(this,x);u(this,M);u(this,P);u(this,pt,void 0);u(this,N,void 0);u(this,a,new Map)}static get observedAttributes(){var E,y,I;return k(E=d,_,Ne).call(E),[...(I=(y=s==null?void 0:s.constructor)==null?void 0:y.observedAttributes)!=null?I:[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get nativeEl(){var g,E,y;return k(this,p,ot).call(this),(y=(E=(g=r(this,N))!=null?g:this.shadowRoot.querySelector(i))!=null?E:this.querySelector(":scope > [slot=media]"))!=null?y:this.querySelector(i)}set nativeEl(g){h(this,N,g)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(g){this.toggleAttribute("muted",!!g)}get src(){return this.getAttribute("src")}set src(g){this.setAttribute("src",`${g}`)}get preload(){var g,E;return(E=this.getAttribute("preload"))!=null?E:(g=this.nativeEl)==null?void 0:g.preload}set preload(g){this.setAttribute("preload",`${g}`)}init(){var g,E;if(!this.shadowRoot){this.attachShadow({mode:"open"});let y=Si(this.attributes);t&&(y.is=t),i&&(y.part=i),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(y)}this.nativeEl.muted=this.hasAttribute("muted");for(let y of n)k(this,M,De).call(this,y);this.shadowRoot.addEventListener("slotchange",this),k(this,x,ye).call(this);for(let y of this.constructor.Events)(E=(g=this.shadowRoot).addEventListener)==null||E.call(g,y,this,!0)}handleEvent(g){if(g.type==="slotchange"){k(this,x,ye).call(this);return}g.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(g.type,{detail:g.detail}))}attributeChangedCallback(g,E,y){k(this,p,ot).call(this),k(this,P,Ve).call(this,g,E,y)}connectedCallback(){k(this,p,ot).call(this)}},b=new WeakMap,_=new WeakSet,Ne=function(){if(r(this,b))return;h(this,b,!0);let g=new Set(this.observedAttributes);g.delete("muted");for(let E of n){if(E in this.prototype)continue;if(typeof s[E]=="function")this.prototype[E]=function(...I){return k(this,p,ot).call(this),this.call?this.call(E,...I):this.nativeEl[E].apply(this.nativeEl,I)};else{let I={get(){var V,Mt,wt;k(this,p,ot).call(this);let O=E.toLowerCase();if(g.has(O)){let Et=this.getAttribute(O);return Et===null?!1:Et===""?!0:Et}return(wt=(V=this.get)==null?void 0:V.call(this,E))!=null?wt:(Mt=this.nativeEl)==null?void 0:Mt[E]}};E!==E.toUpperCase()&&(I.set=function(O){k(this,p,ot).call(this);let V=E.toLowerCase();if(g.has(V)){O===!0||O===!1||O==null?this.toggleAttribute(V,!!O):this.setAttribute(V,O);return}if(this.set){this.set(E,O);return}this.nativeEl[E]=O}),Object.defineProperty(this.prototype,E,I)}}},pt=new WeakMap,N=new WeakMap,a=new WeakMap,p=new WeakSet,ot=function(){r(this,pt)||(h(this,pt,!0),this.init())},x=new WeakSet,ye=function(){let g=new Map(r(this,a));this.shadowRoot.querySelector("slot:not([name])").assignedElements({flatten:!0}).filter(E=>["track","source"].includes(E.localName)).forEach(E=>{var I,O;g.delete(E);let y=r(this,a).get(E);y||(y=E.cloneNode(),r(this,a).set(E,y)),(O=(I=this.nativeEl).append)==null||O.call(I,y),y.localName==="track"&&y.default&&(y.kind==="chapters"||y.kind==="metadata")&&y.track.mode==="disabled"&&(y.track.mode="hidden")}),g.forEach(E=>E.remove())},M=new WeakSet,De=function(g){if(Object.prototype.hasOwnProperty.call(this,g)){let E=this[g];delete this[g],this[g]=E}},P=new WeakSet,Ve=function(g,E,y){var I,O,V,Mt,wt,Et;["id","class"].includes(g)||!d.observedAttributes.includes(g)&&this.constructor.observedAttributes.includes(g)||(y===null?(O=(I=this.nativeEl).removeAttribute)==null||O.call(I,g):((Mt=(V=this.nativeEl).getAttribute)==null?void 0:Mt.call(V,g))!=y&&((Et=(wt=this.nativeEl).setAttribute)==null||Et.call(wt,g,y)))},u(d,_),T(d,"getTemplateHTML",i.endsWith("audio")?yi:Ai),T(d,"shadowRootOptions",{mode:"open"}),T(d,"Events",ee),u(d,b,void 0),d};function ki(e){let i=[];for(let t=Object.getPrototypeOf(e);t&&t!==HTMLElement.prototype;t=Object.getPrototypeOf(t))i.push(...Object.getOwnPropertyNames(t));return i}function Ge(e){let i="";for(let t in e){let s=e[t];s===""?i+=` ${t}`:i+=` ${t}="${s}"`}return i}function Si(e){let i={};for(let t of e)i[t.name]=t.value;return i}var Me,ie=xe((Me=globalThis.HTMLElement)!=null?Me:class{},{tag:"video"}),we,Bi=xe((we=globalThis.HTMLElement)!=null?we:class{},{tag:"audio"});var G=new WeakMap,bt=class extends Error{},re=class extends Error{};var Be=globalThis.WeakRef?class extends Set{add(e){super.add(new WeakRef(e))}forEach(e){super.forEach(i=>{let t=i.deref();t&&e(t)})}}:Set;function Ke(e){var i,t,s;(t=(i=globalThis.chrome)==null?void 0:i.cast)!=null&&t.isAvailable?(s=globalThis.cast)!=null&&s.framework?e():customElements.whenDefined("google-cast-button").then(e):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(e)}}function qe(){return globalThis.chrome}function Fe(){var t;let e="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if((t=globalThis.chrome)!=null&&t.cast||document.querySelector(`script[src="${e}"]`))return;let i=document.createElement("script");i.src=e,document.head.append(i)}function Y(){var e,i;return(i=(e=globalThis.cast)==null?void 0:e.framework)==null?void 0:i.CastContext.getInstance()}function Dt(){var e;return(e=Y())==null?void 0:e.getCurrentSession()}function se(){var e;return(e=Dt())==null?void 0:e.getSessionObj().media[0]}function Ue(e){return new Promise((i,t)=>{se().editTracksInfo(e,i,t)})}function Ye(e){return new Promise((i,t)=>{se().getStatus(e,i,t)})}function Ae(e){return Y().setOptions({...ke(),...e})}function ke(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}var ne=new Be,j=new WeakSet,C;Ke(()=>{var e,i,t,s;if(!((i=(e=globalThis.chrome)==null?void 0:e.cast)!=null&&i.isAvailable)){console.debug("chrome.cast.isAvailable",(s=(t=globalThis.chrome)==null?void 0:t.cast)==null?void 0:s.isAvailable);return}C||(C=cast.framework,Y().addEventListener(C.CastContextEventType.CAST_STATE_CHANGED,n=>{ne.forEach(l=>{var m,d;return(d=(m=G.get(l)).onCastStateChanged)==null?void 0:d.call(m,n)})}),Y().addEventListener(C.CastContextEventType.SESSION_STATE_CHANGED,n=>{ne.forEach(l=>{var m,d;return(d=(m=G.get(l)).onSessionStateChanged)==null?void 0:d.call(m,n)})}),ne.forEach(n=>{var l,m;return(m=(l=G.get(n)).init)==null?void 0:m.call(l)}))});var je=0,A,Vt,L,B,dt,ut,W,ae,K,at,de,We,Gt,Se,ue,He,Bt,Re,ce,$e,Kt,Ce,oe=class extends EventTarget{constructor(t){super();u(this,K);u(this,de);u(this,Gt);u(this,ue);u(this,Bt);u(this,ce);u(this,Kt);u(this,A,void 0);u(this,Vt,void 0);u(this,L,void 0);u(this,B,void 0);u(this,dt,"disconnected");u(this,ut,!1);u(this,W,new Set);u(this,ae,new WeakMap);h(this,A,t),ne.add(this),G.set(this,{init:()=>k(this,Bt,Re).call(this),onCastStateChanged:()=>k(this,Gt,Se).call(this),onSessionStateChanged:()=>k(this,ue,He).call(this),getCastPlayer:()=>r(this,K,at)}),k(this,Bt,Re).call(this)}get state(){return r(this,dt)}async watchAvailability(t){if(r(this,A).disableRemotePlayback)throw new bt("disableRemotePlayback attribute is present.");return r(this,ae).set(t,++je),r(this,W).add(t),je}async cancelWatchAvailability(t){if(r(this,A).disableRemotePlayback)throw new bt("disableRemotePlayback attribute is present.");t?r(this,W).delete(t):r(this,W).clear()}async prompt(){var s,n,l,m;if(r(this,A).disableRemotePlayback)throw new bt("disableRemotePlayback attribute is present.");if(!((n=(s=globalThis.chrome)==null?void 0:s.cast)!=null&&n.isAvailable))throw new re("The RemotePlayback API is disabled on this platform.");let t=j.has(r(this,A));j.add(r(this,A)),Ae(r(this,A).castOptions),Object.entries(r(this,B)).forEach(([d,b])=>{r(this,L).controller.addEventListener(d,b)});try{await Y().requestSession()}catch(d){if(d==="cancel"){t||j.delete(r(this,A));return}throw new Error(d)}(m=(l=G.get(r(this,A)))==null?void 0:l.loadOnPrompt)==null||m.call(l)}};A=new WeakMap,Vt=new WeakMap,L=new WeakMap,B=new WeakMap,dt=new WeakMap,ut=new WeakMap,W=new WeakMap,ae=new WeakMap,K=new WeakSet,at=function(){if(j.has(r(this,A)))return r(this,L)},de=new WeakSet,We=function(){j.has(r(this,A))&&(Object.entries(r(this,B)).forEach(([t,s])=>{r(this,L).controller.removeEventListener(t,s)}),j.delete(r(this,A)),r(this,A).muted=r(this,L).isMuted,r(this,A).currentTime=r(this,L).savedPlayerState.currentTime,r(this,L).savedPlayerState.isPaused===!1&&r(this,A).play())},Gt=new WeakSet,Se=function(){let t=Y().getCastState();if(j.has(r(this,A))&&t==="CONNECTING"&&(h(this,dt,"connecting"),this.dispatchEvent(new Event("connecting"))),!r(this,ut)&&(t!=null&&t.includes("CONNECT"))){h(this,ut,!0);for(let s of r(this,W))s(!0)}else if(r(this,ut)&&(!t||t==="NO_DEVICES_AVAILABLE")){h(this,ut,!1);for(let s of r(this,W))s(!1)}},ue=new WeakSet,He=async function(){var s;let{SESSION_RESUMED:t}=C.SessionState;if(Y().getSessionState()===t&&r(this,A).castSrc===((s=se())==null?void 0:s.media.contentId)){j.add(r(this,A)),Object.entries(r(this,B)).forEach(([n,l])=>{r(this,L).controller.addEventListener(n,l)});try{await Ye(new chrome.cast.media.GetStatusRequest)}catch(n){console.error(n)}r(this,B)[C.RemotePlayerEventType.IS_PAUSED_CHANGED](),r(this,B)[C.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},Bt=new WeakSet,Re=function(){!C||r(this,Vt)||(h(this,Vt,!0),Ae(r(this,A).castOptions),r(this,A).textTracks.addEventListener("change",()=>k(this,Kt,Ce).call(this)),k(this,Gt,Se).call(this),h(this,L,new C.RemotePlayer),new C.RemotePlayerController(r(this,L)),h(this,B,{[C.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:t})=>{t===!0?(h(this,dt,"connected"),this.dispatchEvent(new Event("connect"))):(k(this,de,We).call(this),h(this,dt,"disconnected"),this.dispatchEvent(new Event("disconnect")))},[C.RemotePlayerEventType.DURATION_CHANGED]:()=>{r(this,A).dispatchEvent(new Event("durationchange"))},[C.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{r(this,A).dispatchEvent(new Event("volumechange"))},[C.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{r(this,A).dispatchEvent(new Event("volumechange"))},[C.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{var t;(t=r(this,K,at))!=null&&t.isMediaLoaded&&r(this,A).dispatchEvent(new Event("timeupdate"))},[C.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{r(this,A).dispatchEvent(new Event("resize"))},[C.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{r(this,A).dispatchEvent(new Event(this.paused?"pause":"play"))},[C.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var t,s;((t=r(this,K,at))==null?void 0:t.playerState)!==chrome.cast.media.PlayerState.PAUSED&&r(this,A).dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(s=r(this,K,at))==null?void 0:s.playerState]))},[C.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{var t;(t=r(this,K,at))!=null&&t.isMediaLoaded&&(await Promise.resolve(),k(this,ce,$e).call(this))}}))},ce=new WeakSet,$e=function(){k(this,Kt,Ce).call(this)},Kt=new WeakSet,Ce=async function(){var N,a,p,R,x;if(!r(this,K,at))return;let s=((a=(N=r(this,L).mediaInfo)==null?void 0:N.tracks)!=null?a:[]).filter(({type:S})=>S===chrome.cast.media.TrackType.TEXT),n=[...r(this,A).textTracks].filter(({kind:S})=>S==="subtitles"||S==="captions"),l=s.map(({language:S,name:M,trackId:gt})=>{var nt;let{mode:P}=(nt=n.find(D=>D.language===S&&D.label===M))!=null?nt:{};return P?{mode:P,trackId:gt}:!1}).filter(Boolean),d=l.filter(({mode:S})=>S!=="showing").map(({trackId:S})=>S),b=l.find(({mode:S})=>S==="showing"),_=(x=(R=(p=Dt())==null?void 0:p.getSessionObj().media[0])==null?void 0:R.activeTrackIds)!=null?x:[],U=_;if(_.length&&(U=U.filter(S=>!d.includes(S))),b!=null&&b.trackId&&(U=[...U,b.trackId]),U=[...new Set(U)],!((S,M)=>S.length===M.length&&S.every(gt=>M.includes(gt)))(_,U))try{let S=new chrome.cast.media.EditTracksInfoRequest(U);await Ue(S)}catch(S){console.error(S)}};var ze=e=>{var i,t,s,n,l,m,d,v,_,Xe;return t=class extends e{constructor(){super(...arguments);u(this,d);u(this,_);u(this,s,{paused:!1});u(this,n,ke());u(this,l,void 0);u(this,m,void 0)}get remote(){return r(this,m)?r(this,m):qe()?(Fe(),G.set(this,{loadOnPrompt:()=>k(this,_,Xe).call(this)}),h(this,m,new oe(this))):super.remote}attributeChangedCallback(a,p,R){if(super.attributeChangedCallback(a,p,R),a==="cast-receiver"&&R){r(this,n).receiverApplicationId=R;return}if(r(this,d,v))switch(a){case"cast-stream-type":case"cast-src":this.load();break}}async load(){var M,gt;if(!r(this,d,v))return super.load();let a=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);a.customData=this.castCustomData;let p=[...this.querySelectorAll("track")].filter(({kind:P,src:nt})=>nt&&(P==="subtitles"||P==="captions")),R=[],x=0;p.length&&(a.tracks=p.map(P=>{let nt=++x;R.length===0&&P.track.mode==="showing"&&R.push(nt);let D=new chrome.cast.media.Track(nt,chrome.cast.media.TrackType.TEXT);return D.trackContentId=P.src,D.trackContentType="text/vtt",D.subtype=P.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,D.name=P.label,D.language=P.srclang,D})),this.castStreamType==="live"?a.streamType=chrome.cast.media.StreamType.LIVE:a.streamType=chrome.cast.media.StreamType.BUFFERED,a.metadata=new chrome.cast.media.GenericMediaMetadata,a.metadata.title=this.title,a.metadata.images=[{url:this.poster}];let S=new chrome.cast.media.LoadRequest(a);S.currentTime=(M=super.currentTime)!=null?M:0,S.autoplay=!r(this,s).paused,S.activeTrackIds=R,await((gt=Dt())==null?void 0:gt.loadMedia(S)),this.dispatchEvent(new Event("volumechange"))}play(){var a;if(r(this,d,v)){r(this,d,v).isPaused&&((a=r(this,d,v).controller)==null||a.playOrPause());return}return super.play()}pause(){var a;if(r(this,d,v)){r(this,d,v).isPaused||(a=r(this,d,v).controller)==null||a.playOrPause();return}super.pause()}get castOptions(){return r(this,n)}get castReceiver(){var a;return(a=this.getAttribute("cast-receiver"))!=null?a:void 0}set castReceiver(a){this.castReceiver!=a&&this.setAttribute("cast-receiver",`${a}`)}get castSrc(){var a,p,R;return(R=(p=this.getAttribute("cast-src"))!=null?p:(a=this.querySelector("source"))==null?void 0:a.src)!=null?R:this.currentSrc}set castSrc(a){this.castSrc!=a&&this.setAttribute("cast-src",`${a}`)}get castContentType(){var a;return(a=this.getAttribute("cast-content-type"))!=null?a:void 0}set castContentType(a){this.setAttribute("cast-content-type",`${a}`)}get castStreamType(){var a,p;return(p=(a=this.getAttribute("cast-stream-type"))!=null?a:this.streamType)!=null?p:void 0}set castStreamType(a){this.setAttribute("cast-stream-type",`${a}`)}get castCustomData(){return r(this,l)}set castCustomData(a){let p=typeof a;if(!["object","undefined"].includes(p)){console.error(`castCustomData must be nullish or an object but value was of type ${p}`);return}h(this,l,a)}get readyState(){if(r(this,d,v))switch(r(this,d,v).playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return r(this,d,v)?r(this,d,v).isPaused:super.paused}get muted(){var a;return r(this,d,v)?(a=r(this,d,v))==null?void 0:a.isMuted:super.muted}set muted(a){var p;if(r(this,d,v)){(a&&!r(this,d,v).isMuted||!a&&r(this,d,v).isMuted)&&((p=r(this,d,v).controller)==null||p.muteOrUnmute());return}super.muted=a}get volume(){var a,p;return r(this,d,v)?(p=(a=r(this,d,v))==null?void 0:a.volumeLevel)!=null?p:1:super.volume}set volume(a){var p;if(r(this,d,v)){r(this,d,v).volumeLevel=+a,(p=r(this,d,v).controller)==null||p.setVolumeLevel();return}super.volume=a}get duration(){var a,p,R;return r(this,d,v)&&((a=r(this,d,v))!=null&&a.isMediaLoaded)?(R=(p=r(this,d,v))==null?void 0:p.duration)!=null?R:NaN:super.duration}get currentTime(){var a,p,R;return r(this,d,v)&&((a=r(this,d,v))!=null&&a.isMediaLoaded)?(R=(p=r(this,d,v))==null?void 0:p.currentTime)!=null?R:0:super.currentTime}set currentTime(a){var p;if(r(this,d,v)){r(this,d,v).currentTime=a,(p=r(this,d,v).controller)==null||p.seek();return}super.currentTime=a}},s=new WeakMap,n=new WeakMap,l=new WeakMap,m=new WeakMap,d=new WeakSet,v=function(){var a,p;return(p=(a=G.get(this.remote))==null?void 0:a.getCastPlayer)==null?void 0:p.call(a)},_=new WeakSet,Xe=async function(){r(this,s).paused=Zt(t.prototype,this,"paused"),Zt(t.prototype,this,"pause").call(this),this.muted=Zt(t.prototype,this,"muted");try{await this.load()}catch(a){console.error(a)}},T(t,"observedAttributes",[...(i=e.observedAttributes)!=null?i:[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"]),t};var q=class extends Event{constructor(t,s){super(t);T(this,"track");this.track=s.track}};var _e=new WeakMap;function c(e){var i;return(i=_e.get(e))!=null?i:Ri(e,{})}function Ri(e,i){let t=_e.get(e);return t||_e.set(e,t={}),Object.assign(t,i)}function he(e,i){let t=e.videoTracks;c(i).media=e,c(i).renditionSet||(c(i).renditionSet=new Set);let s=c(t).trackSet;s.add(i);let n=s.size-1;n in ht.prototype||Object.defineProperty(ht.prototype,n,{get(){return[...c(this).trackSet][n]}}),queueMicrotask(()=>{t.dispatchEvent(new q("addtrack",{track:i}))})}function le(e){var s;let i=(s=c(e).media)==null?void 0:s.videoTracks;if(!i)return;c(i).trackSet.delete(e),queueMicrotask(()=>{i.dispatchEvent(new q("removetrack",{track:e}))})}function Je(e){var s;let i=(s=c(e).media.videoTracks)!=null?s:[],t=!1;for(let n of i)n!==e&&(n.selected=!1,t=!0);if(t){if(c(i).changeRequested)return;c(i).changeRequested=!0,queueMicrotask(()=>{delete c(i).changeRequested,i.dispatchEvent(new Event("change"))})}}var H,$,z,ct,qt,ht=class extends EventTarget{constructor(){super();u(this,ct);u(this,H,void 0);u(this,$,void 0);u(this,z,void 0);c(this).trackSet=new Set}[Symbol.iterator](){return r(this,ct,qt).values()}get length(){return r(this,ct,qt).size}getTrackById(t){var s;return(s=[...r(this,ct,qt)].find(n=>n.id===t))!=null?s:null}get selectedIndex(){return[...r(this,ct,qt)].findIndex(t=>t.selected)}get onaddtrack(){return r(this,H)}set onaddtrack(t){r(this,H)&&(this.removeEventListener("addtrack",r(this,H)),h(this,H,void 0)),typeof t=="function"&&(h(this,H,t),this.addEventListener("addtrack",t))}get onremovetrack(){return r(this,$)}set onremovetrack(t){r(this,$)&&(this.removeEventListener("removetrack",r(this,$)),h(this,$,void 0)),typeof t=="function"&&(h(this,$,t),this.addEventListener("removetrack",t))}get onchange(){return r(this,z)}set onchange(t){r(this,z)&&(this.removeEventListener("change",r(this,z)),h(this,z,void 0)),typeof t=="function"&&(h(this,z,t),this.addEventListener("change",t))}};H=new WeakMap,$=new WeakMap,z=new WeakMap,ct=new WeakSet,qt=function(){return c(this).trackSet};var F=class extends Event{constructor(t,s){super(t);T(this,"rendition");this.rendition=s.rendition}};function Qe(e,i){let t=c(e).media.videoRenditions;c(i).media=c(e).media,c(i).track=e;let s=c(e).renditionSet;s.add(i);let n=s.size-1;n in lt.prototype||Object.defineProperty(lt.prototype,n,{get(){return vt(this)[n]}}),queueMicrotask(()=>{e.selected&&t.dispatchEvent(new F("addrendition",{rendition:i}))})}function Ze(e){let i=c(e).media.videoRenditions,t=c(e).track;c(t).renditionSet.delete(e),queueMicrotask(()=>{c(e).track.selected&&i.dispatchEvent(new F("removerendition",{rendition:e}))})}function ti(e){let i=c(e).media.videoRenditions;!i||c(i).changeRequested||(c(i).changeRequested=!0,queueMicrotask(()=>{delete c(i).changeRequested,c(e).track.selected&&i.dispatchEvent(new Event("change"))}))}function vt(e){return[...c(e).media.videoTracks].filter(t=>t.selected).flatMap(t=>[...c(t).renditionSet])}var X,J,Q,lt=class extends EventTarget{constructor(){super(...arguments);u(this,X,void 0);u(this,J,void 0);u(this,Q,void 0)}[Symbol.iterator](){return vt(this).values()}get length(){return vt(this).length}getRenditionById(t){var s;return(s=vt(this).find(n=>`${n.id}`==`${t}`))!=null?s:null}get selectedIndex(){return vt(this).findIndex(t=>t.selected)}set selectedIndex(t){for(let[s,n]of vt(this).entries())n.selected=s===t}get onaddrendition(){return r(this,X)}set onaddrendition(t){r(this,X)&&(this.removeEventListener("addrendition",r(this,X)),h(this,X,void 0)),typeof t=="function"&&(h(this,X,t),this.addEventListener("addrendition",t))}get onremoverendition(){return r(this,J)}set onremoverendition(t){r(this,J)&&(this.removeEventListener("removerendition",r(this,J)),h(this,J,void 0)),typeof t=="function"&&(h(this,J,t),this.addEventListener("removerendition",t))}get onchange(){return r(this,Q)}set onchange(t){r(this,Q)&&(this.removeEventListener("change",r(this,Q)),h(this,Q,void 0)),typeof t=="function"&&(h(this,Q,t),this.addEventListener("change",t))}};X=new WeakMap,J=new WeakMap,Q=new WeakMap;var yt,Ft=class{constructor(){T(this,"src");T(this,"id");T(this,"width");T(this,"height");T(this,"bitrate");T(this,"frameRate");T(this,"codec");u(this,yt,!1)}get selected(){return r(this,yt)}set selected(i){r(this,yt)!==i&&(h(this,yt,i),ti(this))}};yt=new WeakMap;var At,kt=class{constructor(){T(this,"id");T(this,"kind");T(this,"label","");T(this,"language","");T(this,"sourceBuffer");u(this,At,!1)}addRendition(i,t,s,n,l,m){let d=new Ft;return d.src=i,d.width=t,d.height=s,d.frameRate=m,d.bitrate=l,d.codec=n,Qe(this,d),d}removeRendition(i){Ze(i)}get selected(){return r(this,At)}set selected(i){r(this,At)!==i&&(h(this,At,i),i===!0&&Je(this))}};At=new WeakMap;function ei(e,i){let t=c(e).media.audioRenditions;c(i).media=c(e).media,c(i).track=e;let s=c(e).renditionSet;s.add(i);let n=s.size-1;n in ft.prototype||Object.defineProperty(ft.prototype,n,{get(){return St(this)[n]}}),queueMicrotask(()=>{e.enabled&&t.dispatchEvent(new F("addrendition",{rendition:i}))})}function ii(e){let i=c(e).media.audioRenditions,t=c(e).track;c(t).renditionSet.delete(e),queueMicrotask(()=>{c(e).track.enabled&&i.dispatchEvent(new F("removerendition",{rendition:e}))})}function ri(e){let i=c(e).media.audioRenditions;!i||c(i).changeRequested||(c(i).changeRequested=!0,queueMicrotask(()=>{delete c(i).changeRequested,c(e).track.enabled&&i.dispatchEvent(new Event("change"))}))}function St(e){return[...c(e).media.audioTracks].filter(t=>t.enabled).flatMap(t=>[...c(t).renditionSet])}var Z,tt,et,ft=class extends EventTarget{constructor(){super(...arguments);u(this,Z,void 0);u(this,tt,void 0);u(this,et,void 0)}[Symbol.iterator](){return St(this).values()}get length(){return St(this).length}getRenditionById(t){var s;return(s=St(this).find(n=>`${n.id}`==`${t}`))!=null?s:null}get selectedIndex(){return St(this).findIndex(t=>t.selected)}set selectedIndex(t){for(let[s,n]of St(this).entries())n.selected=s===t}get onaddrendition(){return r(this,Z)}set onaddrendition(t){r(this,Z)&&(this.removeEventListener("addrendition",r(this,Z)),h(this,Z,void 0)),typeof t=="function"&&(h(this,Z,t),this.addEventListener("addrendition",t))}get onremoverendition(){return r(this,tt)}set onremoverendition(t){r(this,tt)&&(this.removeEventListener("removerendition",r(this,tt)),h(this,tt,void 0)),typeof t=="function"&&(h(this,tt,t),this.addEventListener("removerendition",t))}get onchange(){return r(this,et)}set onchange(t){r(this,et)&&(this.removeEventListener("change",r(this,et)),h(this,et,void 0)),typeof t=="function"&&(h(this,et,t),this.addEventListener("change",t))}};Z=new WeakMap,tt=new WeakMap,et=new WeakMap;var Rt,Ut=class{constructor(){T(this,"src");T(this,"id");T(this,"bitrate");T(this,"codec");u(this,Rt,!1)}get selected(){return r(this,Rt)}set selected(i){r(this,Rt)!==i&&(h(this,Rt,i),ri(this))}};Rt=new WeakMap;function me(e,i){let t=e.audioTracks;c(i).media=e,c(i).renditionSet||(c(i).renditionSet=new Set);let s=c(t).trackSet;s.add(i);let n=s.size-1;n in mt.prototype||Object.defineProperty(mt.prototype,n,{get(){return[...c(this).trackSet][n]}}),queueMicrotask(()=>{t.dispatchEvent(new q("addtrack",{track:i}))})}function pe(e){var s;let i=(s=c(e).media)==null?void 0:s.audioTracks;if(!i)return;c(i).trackSet.delete(e),queueMicrotask(()=>{i.dispatchEvent(new q("removetrack",{track:e}))})}function si(e){let i=c(e).media.audioTracks;!i||c(i).changeRequested||(c(i).changeRequested=!0,queueMicrotask(()=>{delete c(i).changeRequested,i.dispatchEvent(new Event("change"))}))}var it,rt,st,Ct,fe,mt=class extends EventTarget{constructor(){super();u(this,Ct);u(this,it,void 0);u(this,rt,void 0);u(this,st,void 0);c(this).trackSet=new Set}[Symbol.iterator](){return r(this,Ct,fe).values()}get length(){return r(this,Ct,fe).size}getTrackById(t){var s;return(s=[...r(this,Ct,fe)].find(n=>n.id===t))!=null?s:null}get onaddtrack(){return r(this,it)}set onaddtrack(t){r(this,it)&&(this.removeEventListener("addtrack",r(this,it)),h(this,it,void 0)),typeof t=="function"&&(h(this,it,t),this.addEventListener("addtrack",t))}get onremovetrack(){return r(this,rt)}set onremovetrack(t){r(this,rt)&&(this.removeEventListener("removetrack",r(this,rt)),h(this,rt,void 0)),typeof t=="function"&&(h(this,rt,t),this.addEventListener("removetrack",t))}get onchange(){return r(this,st)}set onchange(t){r(this,st)&&(this.removeEventListener("change",r(this,st)),h(this,st,void 0)),typeof t=="function"&&(h(this,st,t),this.addEventListener("change",t))}};it=new WeakMap,rt=new WeakMap,st=new WeakMap,Ct=new WeakSet,fe=function(){return c(this).trackSet};var _t,Ot=class{constructor(){T(this,"id");T(this,"kind");T(this,"label","");T(this,"language","");T(this,"sourceBuffer");u(this,_t,!1)}addRendition(i,t,s){let n=new Ut;return n.src=i,n.codec=t,n.bitrate=s,ei(this,n),n}removeRendition(i){ii(i)}get enabled(){return r(this,_t)}set enabled(i){r(this,_t)!==i&&(h(this,_t,i),si(this))}};_t=new WeakMap;var ni=ge(globalThis.HTMLMediaElement,"video"),oi=ge(globalThis.HTMLMediaElement,"audio");function ai(e){if(!(e!=null&&e.prototype))return e;let i=ge(e,"video");(!i||`${i}`.includes("[native code]"))&&Object.defineProperty(e.prototype,"videoTracks",{get(){return Ci(this)}});let t=ge(e,"audio");(!t||`${t}`.includes("[native code]"))&&Object.defineProperty(e.prototype,"audioTracks",{get(){return _i(this)}}),"addVideoTrack"in e.prototype||(e.prototype.addVideoTrack=function(l,m="",d=""){let b=new kt;return b.kind=l,b.label=m,b.language=d,he(this,b),b}),"removeVideoTrack"in e.prototype||(e.prototype.removeVideoTrack=le),"addAudioTrack"in e.prototype||(e.prototype.addAudioTrack=function(l,m="",d=""){let b=new Ot;return b.kind=l,b.label=m,b.language=d,me(this,b),b}),"removeAudioTrack"in e.prototype||(e.prototype.removeAudioTrack=pe),"videoRenditions"in e.prototype||Object.defineProperty(e.prototype,"videoRenditions",{get(){return s(this)}});let s=l=>{let m=c(l).videoRenditions;return m||(m=new lt,c(m).media=l,c(l).videoRenditions=m),m};"audioRenditions"in e.prototype||Object.defineProperty(e.prototype,"audioRenditions",{get(){return n(this)}});let n=l=>{let m=c(l).audioRenditions;return m||(m=new ft,c(m).media=l,c(l).audioRenditions=m),m};return e}function ge(e,i){var t;if(e!=null&&e.prototype)return(t=Object.getOwnPropertyDescriptor(e.prototype,`${i}Tracks`))==null?void 0:t.get}function Ci(e){var t;let i=c(e).videoTracks;if(!i&&(i=new ht,c(e).videoTracks=i,ni)){let s=ni.call((t=e.nativeEl)!=null?t:e);for(let n of s)he(e,n);s.addEventListener("change",()=>{i.dispatchEvent(new Event("change"))}),s.addEventListener("addtrack",n=>{if([...i].some(l=>l instanceof kt)){for(let l of s)le(l);return}he(e,n.track)}),s.addEventListener("removetrack",n=>{le(n.track)})}return i}function _i(e){var t;let i=c(e).audioTracks;if(!i&&(i=new mt,c(e).audioTracks=i,oi)){let s=oi.call((t=e.nativeEl)!=null?t:e);for(let n of s)me(e,n);s.addEventListener("change",()=>{i.dispatchEvent(new Event("change"))}),s.addEventListener("addtrack",n=>{if([...i].some(l=>l instanceof Ot)){for(let l of s)pe(l);return}me(e,n.track)}),s.addEventListener("removetrack",n=>{pe(n.track)})}return i}ee.push("castchange","entercast","leavecast");var o={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},Oi=Object.values(o),Pi=Le(),Ii="mux-video",w,Pt,jt,It,Wt,Ht,$t,zt,Xt,Lt,Ee,Oe=class extends ie{constructor(){super();u(this,Lt);u(this,w,void 0);u(this,Pt,void 0);u(this,jt,void 0);u(this,It,{});u(this,Wt,{});u(this,Ht,void 0);u(this,$t,void 0);u(this,zt,void 0);u(this,Xt,void 0);h(this,jt,(0,f.generatePlayerInitTime)())}static get observedAttributes(){var t;return[...Oi,...(t=ie.observedAttributes)!=null?t:[]]}get preferCmcd(){var t;return(t=this.getAttribute(o.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?f.CmcdTypeValues.includes(t)?this.setAttribute(o.PREFER_CMCD,t):console.warn(`Invalid value for preferCmcd. Must be one of ${f.CmcdTypeValues.join()}`):this.removeAttribute(o.PREFER_CMCD))}get playerInitTime(){return r(this,jt)}get playerSoftwareName(){var t;return(t=r(this,zt))!=null?t:Ii}set playerSoftwareName(t){h(this,zt,t)}get playerSoftwareVersion(){var t;return(t=r(this,$t))!=null?t:Pi}set playerSoftwareVersion(t){h(this,$t,t)}get _hls(){var t;return(t=r(this,w))==null?void 0:t.engine}get mux(){var t;return(t=this.nativeEl)==null?void 0:t.mux}get error(){var t;return(t=(0,f.getError)(this.nativeEl))!=null?t:null}get errorTranslator(){return r(this,Xt)}set errorTranslator(t){h(this,Xt,t)}get src(){return this.getAttribute("src")}set src(t){t!==this.src&&(t==null?this.removeAttribute("src"):this.setAttribute("src",t))}get type(){var t;return(t=this.getAttribute(o.TYPE))!=null?t:void 0}set type(t){t!==this.type&&(t?this.setAttribute(o.TYPE,t):this.removeAttribute(o.TYPE))}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let s=this.autoplay;t!==s&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get preload(){let t=this.getAttribute("preload");return t===""?"auto":["none","metadata","auto"].includes(t)?t:super.preload}set preload(t){t!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(t)?this.setAttribute("preload",t):this.removeAttribute("preload"))}get debug(){return this.getAttribute(o.DEBUG)!=null}set debug(t){t!==this.debug&&(t?this.setAttribute(o.DEBUG,""):this.removeAttribute(o.DEBUG))}get disableTracking(){return this.hasAttribute(o.DISABLE_TRACKING)}set disableTracking(t){t!==this.disableTracking&&this.toggleAttribute(o.DISABLE_TRACKING,!!t)}get disableCookies(){return this.hasAttribute(o.DISABLE_COOKIES)}set disableCookies(t){t!==this.disableCookies&&(t?this.setAttribute(o.DISABLE_COOKIES,""):this.removeAttribute(o.DISABLE_COOKIES))}get startTime(){let t=this.getAttribute(o.START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set startTime(t){t!==this.startTime&&(t==null?this.removeAttribute(o.START_TIME):this.setAttribute(o.START_TIME,`${t}`))}get playbackId(){var t;return this.hasAttribute(o.PLAYBACK_ID)?this.getAttribute(o.PLAYBACK_ID):(t=(0,f.toPlaybackIdFromSrc)(this.src))!=null?t:void 0}set playbackId(t){t!==this.playbackId&&(t?this.setAttribute(o.PLAYBACK_ID,t):this.removeAttribute(o.PLAYBACK_ID))}get maxResolution(){var t;return(t=this.getAttribute(o.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(o.MAX_RESOLUTION,t):this.removeAttribute(o.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(o.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(o.MIN_RESOLUTION,t):this.removeAttribute(o.MIN_RESOLUTION))}get renditionOrder(){var t;return(t=this.getAttribute(o.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(o.RENDITION_ORDER,t):this.removeAttribute(o.RENDITION_ORDER))}get programStartTime(){let t=this.getAttribute(o.PROGRAM_START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set programStartTime(t){t==null?this.removeAttribute(o.PROGRAM_START_TIME):this.setAttribute(o.PROGRAM_START_TIME,`${t}`)}get programEndTime(){let t=this.getAttribute(o.PROGRAM_END_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set programEndTime(t){t==null?this.removeAttribute(o.PROGRAM_END_TIME):this.setAttribute(o.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){let t=this.getAttribute(o.ASSET_START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set assetStartTime(t){t==null?this.removeAttribute(o.ASSET_START_TIME):this.setAttribute(o.ASSET_START_TIME,`${t}`)}get assetEndTime(){let t=this.getAttribute(o.ASSET_END_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set assetEndTime(t){t==null?this.removeAttribute(o.ASSET_END_TIME):this.setAttribute(o.ASSET_END_TIME,`${t}`)}get customDomain(){var t;return(t=this.getAttribute(o.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(o.CUSTOM_DOMAIN,t):this.removeAttribute(o.CUSTOM_DOMAIN))}get drmToken(){var t;return(t=this.getAttribute(o.DRM_TOKEN))!=null?t:void 0}set drmToken(t){t!==this.drmToken&&(t?this.setAttribute(o.DRM_TOKEN,t):this.removeAttribute(o.DRM_TOKEN))}get playbackToken(){var t,s,n,l;if(this.hasAttribute(o.PLAYBACK_TOKEN))return(t=this.getAttribute(o.PLAYBACK_TOKEN))!=null?t:void 0;if(this.hasAttribute(o.PLAYBACK_ID)){let[,m]=(0,f.toPlaybackIdParts)((s=this.playbackId)!=null?s:"");return(n=new URLSearchParams(m).get("token"))!=null?n:void 0}if(this.src)return(l=new URLSearchParams(this.src).get("token"))!=null?l:void 0}set playbackToken(t){t!==this.playbackToken&&(t?this.setAttribute(o.PLAYBACK_TOKEN,t):this.removeAttribute(o.PLAYBACK_TOKEN))}get tokens(){let t=this.getAttribute(o.PLAYBACK_TOKEN),s=this.getAttribute(o.DRM_TOKEN);return{...r(this,Wt),...t!=null?{playback:t}:{},...s!=null?{drm:s}:{}}}set tokens(t){h(this,Wt,t!=null?t:{})}get ended(){return(0,f.getEnded)(this.nativeEl,this._hls)}get envKey(){var t;return(t=this.getAttribute(o.ENV_KEY))!=null?t:void 0}set envKey(t){t!==this.envKey&&(t?this.setAttribute(o.ENV_KEY,t):this.removeAttribute(o.ENV_KEY))}get beaconCollectionDomain(){var t;return(t=this.getAttribute(o.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(o.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(o.BEACON_COLLECTION_DOMAIN))}get streamType(){var t;return(t=this.getAttribute(o.STREAM_TYPE))!=null?t:(0,f.getStreamType)(this.nativeEl)}set streamType(t){t!==this.streamType&&(t?this.setAttribute(o.STREAM_TYPE,t):this.removeAttribute(o.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(o.TARGET_LIVE_WINDOW)?+this.getAttribute(o.TARGET_LIVE_WINDOW):(0,f.getTargetLiveWindow)(this.nativeEl)}set targetLiveWindow(t){t!=this.targetLiveWindow&&(t==null?this.removeAttribute(o.TARGET_LIVE_WINDOW):this.setAttribute(o.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t,s;if(this.hasAttribute(o.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,l=(t=this.nativeEl.seekable.end(0))!=null?t:0,m=(s=this.nativeEl.seekable.start(0))!=null?s:0;return Math.max(m,l-n)}return(0,f.getLiveEdgeStart)(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(o.LIVE_EDGE_OFFSET))return+this.getAttribute(o.LIVE_EDGE_OFFSET)}set liveEdgeOffset(t){t!=this.targetLiveWindow&&(t==null?this.removeAttribute(o.LIVE_EDGE_OFFSET):this.setAttribute(o.LIVE_EDGE_OFFSET,`${+t}`))}get seekable(){return(0,f.getSeekable)(this.nativeEl)}async addCuePoints(t){return(0,f.addCuePoints)(this.nativeEl,t)}get activeCuePoint(){return(0,f.getActiveCuePoint)(this.nativeEl)}get cuePoints(){return(0,f.getCuePoints)(this.nativeEl)}async addChapters(t){return(0,f.addChapters)(this.nativeEl,t)}get activeChapter(){return(0,f.getActiveChapter)(this.nativeEl)}get chapters(){return(0,f.getChapters)(this.nativeEl)}getStartDate(){return(0,f.getStartDate)(this.nativeEl,this._hls)}get currentPdt(){return(0,f.getCurrentPdt)(this.nativeEl,this._hls)}get preferPlayback(){let t=this.getAttribute(o.PREFER_PLAYBACK);if(t===f.PlaybackTypes.MSE||t===f.PlaybackTypes.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===f.PlaybackTypes.MSE||t===f.PlaybackTypes.NATIVE?this.setAttribute(o.PREFER_PLAYBACK,t):this.removeAttribute(o.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(s=>s.startsWith("metadata-")&&![o.METADATA_URL].includes(s)).reduce((s,n)=>{let l=this.getAttribute(n);return l!=null&&(s[n.replace(/^metadata-/,"").replace(/-/g,"_")]=l),s},{}),...r(this,It)}}set metadata(t){h(this,It,t!=null?t:{}),this.mux&&this.mux.emit("hb",r(this,It))}get _hlsConfig(){return r(this,Ht)}set _hlsConfig(t){h(this,Ht,t)}load(){h(this,w,(0,f.initialize)(this,this.nativeEl,r(this,w)))}unload(){(0,f.teardown)(this.nativeEl,r(this,w)),h(this,w,void 0)}attributeChangedCallback(t,s,n){var m,d;switch(ie.observedAttributes.includes(t)&&!["src","autoplay","preload"].includes(t)&&super.attributeChangedCallback(t,s,n),t){case o.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n!=null?n:void 0;break;case o.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n!=null?n:void 0;break;case"src":{let b=!!s,_=!!n;!b&&_?k(this,Lt,Ee).call(this):b&&!_?this.unload():b&&_&&(this.unload(),k(this,Lt,Ee).call(this));break}case"autoplay":if(n===s)break;(m=r(this,w))==null||m.setAutoplay(this.autoplay);break;case"preload":if(n===s)break;(d=r(this,w))==null||d.setPreload(n);break;case o.PLAYBACK_ID:this.src=(0,f.toMuxVideoURL)(this);break;case o.DEBUG:{let b=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=b);break}case o.METADATA_URL:n&&fetch(n).then(b=>b.json()).then(b=>this.metadata=b).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case o.STREAM_TYPE:(n==null||n!==s)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case o.TARGET_LIVE_WINDOW:(n==null||n!==s)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;default:break}}connectedCallback(){var t;(t=super.connectedCallback)==null||t.call(this),this.nativeEl&&this.src&&!r(this,w)&&k(this,Lt,Ee).call(this)}disconnectedCallback(){this.unload()}};w=new WeakMap,Pt=new WeakMap,jt=new WeakMap,It=new WeakMap,Wt=new WeakMap,Ht=new WeakMap,$t=new WeakMap,zt=new WeakMap,Xt=new WeakMap,Lt=new WeakSet,Ee=async function(){r(this,Pt)||(await h(this,Pt,Promise.resolve()),h(this,Pt,null),this.load())};var Jt,Yt=class extends ze(ai(Oe)){constructor(){super(...arguments);u(this,Jt,void 0)}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var t;return(t=r(this,Jt))!=null?t:this.muxCastCustomData}set castCustomData(t){h(this,Jt,t)}};Jt=new WeakMap;te.customElements.get("mux-video")||(te.customElements.define("mux-video",Yt),te.MuxVideoElement=Yt);var Li=Yt;
//# sourceMappingURL=index.cjs.js.map
